{"version":3,"sources":["icons/StrokeMarketing.js","icons/StrokeWeb.js","icons/StrokeSettings.js","navigation/NavBar.js","icons/GlyphCancel.js","components/notify/Toast.js","components/notify/Notify.js","components/connected/Connected.js","components/tour/TourHelper.js","files/explore-form/FilesExploreForm.js","App.js","bundles/app-idle.js","bundles/node-bandwidth-chart.js","bundles/node-bandwidth.js","bundles/peers.js","bundles/peer-locations.js","status/LoadableStatusPage.js","files/LoadableFilesPage.js","explore/LoadableStartExploringPage.js","explore/LoadableExplorePage.js","peers/LoadablePeersPage.js","settings/LoadableSettingsPage.js","settings/AnalyticsPage.js","welcome/LoadableWelcomePage.js","blank/BlankPage.js","bundles/routes.js","bundles/redirects.js","bundles/config-save.js","bundles/navbar.js","bundles/tours.js","bundles/experiments.js","bundles/ipfs-desktop.js","bundles/notify.js","bundles/connected.js","bundles/retry-init.js","bundles/identity.js","lib/bundle-cache.js","bundles/repo-stats.js","bundles/analytics.js","bundles/index.js","lib/dnd-backend.js","index.js","lib/files.js","components/error/ErrorBoundary.js","components/box/Box.js","icons/StrokeIpld.js","components/button/Button.js","components/checkbox/Checkbox.js","lib/tours.js","lib/sort.js","icons/GlyphSmallCancel.js","settings/Title.js","icons/StrokeFolder.js","i18n.js","icons/StrokeCube.js","loader/Loader.js","loader/ComponentLoader.js","components/analytics-toggle/AnalyticsToggle.js","icons/GlyphSmallTick.js","components/details/Details.js","navigation/ipfs-logo.svg","navigation/ipfs-logo-text.svg","bundles/config.js","bundles/files/consts.js","bundles/files/utils.js","lib/count-dirs.js","bundles/files/actions.js","bundles/files/index.js","bundles/files/selectors.js"],"names":["StrokeMarketing","props","viewBox","d","StrokeWeb","StrokeSettings","NavLink","to","icon","open","exact","disabled","children","Svg","className","activeClassName","hash","window","location","href","active","startsWith","anchorClass","classnames","svgClass","style","borderLeft","role","title","width","NavBar","t","onToggle","codeUrl","bugsUrl","revisionUrl","process","onClick","height","display","src","ipfsLogoText","alt","ipfsLogo","StrokeIpld","StrokeCube","target","rel","connect","withTranslation","doToggleNavbar","navbarIsOpen","navbarWidth","GlyphCancel","Toast","error","onDismiss","bg","left","transform","verticalAlign","notify","notifyI18nKey","doNotifyDismiss","show","ipfsReady","ipfsConnected","size","pickTitleKey","fill","pickColor","opacity","xmlns","doEnableTours","FilesExploreForm","state","path","hideExplore","onChange","bind","onKeyDown","onBrowse","onInspect","evt","key","this","preventDefault","isValid","isIPFS","cid","setState","value","data-id","id","inputClass","borderRadius","type","placeholder","aria-describedby","Button","minWidth","StrokeFolder","trim","React","Component","App","addFiles","filesPromise","a","doFilesWrite","doUpdateHash","routeInfo","isFilesPage","pattern","addAtPath","params","files","filesToStreams","handleJoyrideCb","data","action","doDisableTooltip","doInitIpfs","Page","route","doFilesNavigateTo","doExploreUserProvidedPath","url","connectDropTarget","canDrop","isOver","showTooltip","getNavHelper","doUpdateUrl","background","minHeight","WebkitAppRegion","paddingTop","paddingBottom","ComponentLoader","pastDelay","run","steps","appTour","getSteps","styles","callback","scrollToFirstStep","disableOverlay","AppWithDropTarget","DropTarget","NativeTypes","FILE","drop","monitor","didDrop","getItem","filesPathInfo","isMfs","dropTarget","defaults","idleTimeout","idleAction","stopWhenTabInactive","ricOptions","timeout","bundle","createAsyncResourceBundle","name","actionBaseType","getPromise","getIpfs","stats","bw","test","staleAfter","ms","seconds","retryAfter","persist","checkIfOnline","selectNodeBandwidthEnabled","nodeBandwidth","selectNodeBandwidthLastSuccess","lastSuccess","reactNodeBandwidthFetchWhenIdle","createSelector","shouldUpdate","actionCreator","swarm","peers","verbose","selectPeersCount","Array","isArray","length","doConnectSwarm","addr","dispatch","payload","ipfs","reactPeersFetchWhenIdle","reactPeersFetchWhenActive","appTime","peersInfo","selectIpfsReady","isLoading","UPDATE_EVERY","isNonHomeIPv4","toLocationString","loc","country","country_name","city","parseConnection","multiaddr","protoNames","join","parseLatency","latency","parseInt","exec","getPublicIP","memoizee","identity","addresses","maddr","Multiaddr","nodeAddress","ip","isV4Format","address","isV6Format","isPrivate","_","isPrivateAndNearby","publicIP","isNearby","cidrSubnet","contains","parseNotes","peer","bootstrapPeers","peerId","toB58String","ipfsAddr","encapsulate","toString","p2pAddr","includes","opts","toOptions","transport","node","host","PeerLocationResolver","geoipCache","getConfiguredCache","version","maxAge","weeks","cache","failedAddrs","HLRU","queue","PQueue","concurrency","autoStart","geoipLookupPromises","pass","res","p","ipv4Tuple","stringTuples","find","ipv4Addr","has","get","add","geoip","lookup","set","optimizedPeerSet","x","concat","sort","b","slice","LoadableStatusPage","Loadable","loader","loading","LoadableFilesPage","LoadableStartExploringPage","LoadableExplorePage","LoadablePeersPage","LoadableSettingsPage","Helmet","Box","Title","AnalyticsToggle","LoadableWelcomePage","BlankPage","createRouteBundle","StartExploringPage","ExplorePage","FilesPage","PeersPage","SettingsPage","AnalyticsPage","WelcomePage","StatusPage","routeInfoSelector","reactToEmptyHash","args","reactToIpfsConnectionFail","failed","reducer","isSaving","Date","now","errorMessage","message","lastError","selectConfigIsSaving","config_save","selectConfigSaveLastSuccess","selectConfigSaveLastError","doSaveConfig","configStr","store","console","log","obj","JSON","parse","config","replace","doMarkConfigAsOutdated","selectIsIpfsDesktop","doDesktopIpfsConfigChanged","persistActions","isOpen","selectNavbarIsOpen","navbar","selectNavbarWidth","init","root","localStorage","enabled","tooltip","setItem","doDisableTours","selectTours","tours","selectToursEnabled","selectShowTooltip","ACTIONS","EXPERIMENTS","actionUrls","desktopOnly","mergeState","Object","keys","reduce","all","toggleEnabled","unblock","blocked","block","doExpToggleAction","selectExperimentsState","experiments","selectExperiments","isDesktop","filter","e","map","ipfsDesktop","selectDesktopCountlyActions","EXP_ACTIONS","toggleSetting","selectDesktopSettings","selectDesktopVersion","selectDesktopCountlyDeviceId","countlyDeviceId","countlyActions","doDesktopStartListening","onConfigChanged","changed","success","prevConfig","isExperiment","doDesktopSettingsToggle","setting","configHasChanged","doDesktopSelectDirectory","selectDirectory","doDesktopAddConsent","consent","addConsent","doDesktopRemoveConsent","removeConsent","defaultState","eventId","code","match","DESK_ACTIONS","selectNotify","selectNotifyI18nKey","provider","FILES_ACTIONS","WRITE","ADD_BY_PATH","FETCH","MOVE","MAKE_DIR","COPY","DELETE","reactNotifyOkDismiss","connected","selectConnectedLastError","selectIpfsConnected","retryInit","startedAt","failedAt","selectInitStartedAt","selectInitFailedAt","reactConnectionInitRetry","Infinity","selectIdentityLastSuccess","reactIdentityFetch","idLastSuccess","connLastError","bundleCache","repo","stat","selectRepoSize","repoStats","repoSize","selectRepoNumObjects","numObjects","reactRepoStatsFetch","ASYNC_ACTIONS_TO_RECORD","ASYNC_ACTION_RE","RegExp","ASYNC_ACTION_STATE_RE","COUNTLY_KEY_WEBUI","consentGroups","safe","Countly","q","push","spec","createAnalyticsBundle","countlyUrl","countlyAppKey","appVersion","appGitRevision","debug","require_consent","app_key","app_version","selectAnalyticsEnabled","selectAnalyticsConsent","subscribeToSelectors","getMiddleware","EventMap","Map","next","performance","start","durationInSeconds","changeCase","constantCase","count","dur","delete","lastEnabledAt","lastDisabledAt","item","selectAnalytics","analytics","selectAnalyticsAskToEnable","selectAnalyticsActionsToRecord","desktopActions","from","doToggleAnalytics","doEnableAnalytics","doDisableAnalytics","doToggleConsent","doRemoveConsent","doAddConsent","composeBundles","createCacheBundle","cacheFn","idleDispatcher","stopWhenInactive","fn","assign","debounce","raf","ric","subscribe","ipfsBundle","tryWindow","ipfsConnectionTest","identityBundle","navbarBundle","routesBundle","redirectsBundle","toursBundle","filesBundle","exploreBundle","configBundle","configSaveBundle","nodeBandwidthBundle","windowSize","in","out","chartData","selectNodeBandwidthChartData","nodeBandwidthChart","doUpdateNodeBandwidthChartData","timestamp","startIndex","y","rateIn","toFixed","rateOut","findIndex","reactUpdateNodeBandwidthChartData","peersBundle","peerLocResolver","selectPeers","findLocations","reactPeerLocationsFetch","selectPeerLocationsForSwarm","locations","locationObj","flagCode","country_code","coordinates","longitude","latitude","connection","notes","selectPeerCoordinates","allCoord","arr","unique","Set","stringify","peerLocationsBundle","notifyBundle","connectedBundle","retryInitBundle","experimentsBundle","manager","backend","HTML5Backend","handler","handleTopDropCapture","event","call","currentNativeSource","getFilesFromDataTransferItems","dataTransfer","items","getAll","initialData","getStore","ReactDOM","render","i18n","DndProvider","DndBackend","document","getElementById","streams","file","stream","fileReader","filepath","webkitRelativePath","content","downloadSingle","gatewayUrl","apiUrl","filename","makeHashFromFiles","object","new","patch","addLink","multihash","CID","downloadMultiple","Error","Promise","reject","getDownloadLink","getShareableLink","encodeURIComponent","ErrorBoundary","hasError","info","Fallback","fallback","defaultProps","ErrorIcon","color","danger","bgClass","colorClass","cls","Checkbox","label","checked","placement","disableBeacon","tooltipContent","padding","tooltipFooter","options","backgroundColor","arrowColor","textColor","zIndex","statusTour","Trans","i18nKey","locale","last","primaryColor","filesTour","peersTour","settingsTour","sortByName","dir","numeric","sensitivity","localeCompare","undefined","sortBySize","sortByProperty","property","GlyphSmallCancel","localeData","cs","da","de","en","es","fr","ko","nl","no","pl","pt","sv","zh","localesList","use","ICU","XHR","LanguageDetector","ns","fallbackLng","default","loadPath","react","wait","useSuspense","bindI18n","bindStore","nsMode","Loader","ExampleRequest","method","QueryParams","URL","searchParams","entries","AnalyticType","summary","exampleRequest","sourceLink","queryParams","sourceLinkLabel","useState","setOpen","analyticsActionsToRecord","analyticsConsent","analyticsEnabled","Fragment","summaryText","GlyphSmallTick","Details","module","exports","rawConf","conf","Buffer","isBuffer","getURLFromAddress","Addresses","toUri","selectConfigObject","selectApiUrl","selectGatewayUrl","selectBootstrapPeers","Bootstrap","selectIsConfigBlocked","errorType","reactConfigFetch","IS_MAC","navigator","userAgent","indexOf","DOWNLOAD_LINK","PIN_ADD","PIN_REMOVE","PIN_LIST","FILES_SIZE_GET","SORTING","BY_NAME","BY_SIZE","IGNORED_FILES","DEFAULT_STATE","pageContent","pins","sorting","by","asc","pending","finished","make","basename","args2","Symbol","mfsOnly","selectFilesPathInfo","dst","selectFiles","split","pop","doFilesFetch","doPinsFetch","sortFiles","sortDir","nameSort","sizeSort","cumulativeSize","infoFromPath","realPath","isPins","isRoot","check","prefix","substr","endsWith","substring","decodeURIComponent","countDirs","paths","f","directories","forEach","findUniqueDirectories","dirname","fileFromStats","realMfsPath","hashOrPath","getRawPins","pin","ls","recursive","direct","getPins","pinned","fetchFiles","fetched","resolve","read","cat","showStats","absPath","parent","parentPath","parentInfo","isParent","upper","selectFilesSorting","sorts","parts","splice","status","pendingAction","additional","end","mfsSize","isReady","isConnected","isFetching","selectFilesIsFetching","totalSize","prev","s","updateProgress","sent","progress","wrapWithDirectory","numberOfFiles","numberOfDirs","expectedResponseCount","cp","doFilesDelete","promises","rm","doFilesAddPath","srcPath","doFilesDownloadLink","doFilesShareLink","SHARE_LINK","doFilesMove","mv","doFilesCopy","doFilesMakeDir","mkdir","parents","doFilesPin","doFilesUnpin","doFilesDismissErrors","link","doFilesUpdateSorting","doFilesSizeGet","selectPins","selectFilesSize","some","selectShowLoadingAnimation","selectWriteFilesProgress","writes","acc","selectFilesHasError","selectFilesErrors"],"mappings":"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","file":"static/js/main.b4d56c3f.chunk.js","sourcesContent":["import React from 'react'\n\nconst StrokeMarketing = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M76.595 19.785h-52.93a3.93 3.93 0 0 0-3.92 3.92v39.12a5.74 5.74 0 0 0 5.73 5.73h23.79v6.25h-9.67a4 4 0 0 0-4 4 3.59 3.59 0 0 0 .08.81l.12.6h28.49l.13-.6a4.28 4.28 0 0 0 .08-.81 4 4 0 0 0-4-4h-9.73v-6.25h25.83a3.67 3.67 0 0 0 3.66-3.67v-41.44a3.67 3.67 0 0 0-3.66-3.66zm-13.61 58.94h-25.95a2.52 2.52 0 0 1 2.56-2.42h20.88a2.51 2.51 0 0 1 2.51 2.42zm-39.32-55.94h52.93a.66.66 0 0 1 .66.66v5.56h-54.51v-5.3a.92.92 0 0 1 .92-.92zm52.93 42.77h-51.12a2.73 2.73 0 0 1-2.73-2.73v-32.29h54.53v34.35a.67.67 0 0 1-.68.67z' />\n    <path d='M68.315 35.735a3.61 3.61 0 0 0-3.61 3.61 3.58 3.58 0 0 0 .74 2.17l-9.77 10.38a3.5 3.5 0 0 0-4.13.46l-7.4-5a3.61 3.61 0 1 0-6.9-1.48 3.58 3.58 0 0 0 .41 1.63l-.06-.05-4.54 5.55a3.57 3.57 0 0 0-1.35-.27 3.62 3.62 0 1 0 2.6 1.11l4.29-5.21a3.53 3.53 0 0 0 2.3.86 3.62 3.62 0 0 0 2.39-.92l7.41 5a3.52 3.52 0 0 0-.37 1.43 3.635 3.635 0 1 0 7.27 0 3.57 3.57 0 0 0-.74-2.16l9.74-10.35a3.49 3.49 0 0 0 1.73.46 3.61 3.61 0 0 0 0-7.22zm-36.61 22.72a2.11 2.11 0 1 1 2.11-2.11 2.12 2.12 0 0 1-2.11 2.11zm9.15-10.45a2.11 2.11 0 1 1 2.11-2.11 2.12 2.12 0 0 1-2.11 2.11zm13.08 9.15a2.11 2.11 0 1 1 2.11-2.15 2.11 2.11 0 0 1-2.11 2.14zm14.38-15.7a2.11 2.11 0 1 1 2.11-2.11 2.11 2.11 0 0 1-2.11 2.11z' />\n  </svg>\n)\n\nexport default StrokeMarketing\n","import React from 'react'\n\nconst StrokeWeb = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M36 33.4h14.21a1 1 0 0 0 0-2H36a1 1 0 0 0 0 2zm0 8.84h14.21a1 1 0 0 0 0-2H36a1 1 0 0 0 0 2zm30.08 7.57a1.07 1.07 0 0 0-.07-.19.64.64 0 0 1 0-.07l-.08-.08-.14-.15-.15-.1-.18-.08h-.2a.35.35 0 0 0-.11 0H36a1 1 0 0 0-1 1v17.68a.71.71 0 0 0 0 .2.64.64 0 0 0 .06.18.36.36 0 0 1 0 .07.65.65 0 0 0 .13.16 1.26 1.26 0 0 0 .28.19h.08a1 1 0 0 0 .34.07h29.24a1 1 0 0 0 1-1V50a1.62 1.62 0 0 0-.05-.19zm-4.52 1.26L37 66V51.07zm-22 15.68l24.52-14.9v14.9z' />\n    <path d='M75.13 37.17v-.05L56.55 17.8H30a5.51 5.51 0 0 0-5.5 5.5v53.4a5.51 5.51 0 0 0 5.5 5.5h40a5.51 5.51 0 0 0 5.5-5.5V37.51zM56.91 22.51l14 14.61h-7.08c-4 0-6.92-2.53-6.92-6zM70 79.2H30a2.5 2.5 0 0 1-2.5-2.5V23.3a2.5 2.5 0 0 1 2.5-2.5h24.91v10.31c0 4.64 3.75 8 8.92 8h8.63V76.7A2.5 2.5 0 0 1 70 79.2z' />\n  </svg>\n)\n\nexport default StrokeWeb\n","import React from 'react'\n\nconst StrokeSettings = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M50.077 42.884h-.09a7.14 7.14 0 0 0-5 2.06 7.07 7.07 0 0 0-2.11 5 7.16 7.16 0 0 0 7.11 7.21 7.14 7.14 0 0 0 .09-14.27zm-.09 11.67a4.57 4.57 0 0 1-4.54-4.54 4.46 4.46 0 0 1 1.34-3.19 4.54 4.54 0 0 1 3.2-1.34 4.53 4.53 0 0 1 4.48 4.67 4.54 4.54 0 0 1-4.48 4.4z' />\n    <path d='M83.697 56.764c-3.29-1.27-4.93-3.4-5-6.51-.07-3.29 1.56-5.53 5-6.86a1.3 1.3 0 0 0 .82-1.38c-.25-2.51-3-9-4.45-10.72a1.3 1.3 0 0 0-1.53-.28c-3.25 1.52-6 1.15-8.27-1.14-2.27-2.29-2.71-5-1.17-8.39a1.29 1.29 0 0 0-.5-1.65 34.72 34.72 0 0 0-10.42-4.29 1.29 1.29 0 0 0-1.52.84c-1.11 3.22-3.1 4.9-6.1 5.12-3.57.27-6-1.41-7.36-5.11a1.31 1.31 0 0 0-1.53-.82 35.49 35.49 0 0 0-10.38 4.37 1.3 1.3 0 0 0-.48 1.66c1.56 3.28 1.21 6-1.07 8.32-2.28 2.32-5.05 2.74-8.38 1.21a1.31 1.31 0 0 0-1.66.5 35.31 35.31 0 0 0-4.23 10.38 1.31 1.31 0 0 0 .82 1.51c3.34 1.23 5 3.35 5.07 6.51.07 3.16-1.55 5.53-5 6.86a1.3 1.3 0 0 0-.79 1.52 34.69 34.69 0 0 0 4.42 10.34 1.29 1.29 0 0 0 1.63.5c3.23-1.44 5.9-1.06 8.16 1.14s2.75 5 1.32 8.23a1.3 1.3 0 0 0 .52 1.63 35.46 35.46 0 0 0 10.37 4.23 1.15 1.15 0 0 0 .26 0 1.44 1.44 0 0 0 1.23-.79 2.43 2.43 0 0 0 .14-.28 6.89 6.89 0 0 1 13-.17 1.7 1.7 0 0 0 2.16 1.06 35.78 35.78 0 0 0 9.44-3.9l.36-.24.11-.08a1.29 1.29 0 0 0 .47-1.61c-1.32-3-1.06-5.51.8-7.68 2.29-2.66 5.12-3.22 8.67-1.71a1.29 1.29 0 0 0 1.61-.51 34.87 34.87 0 0 0 4.3-10.33 1.29 1.29 0 0 0-.84-1.48zm-5.16 9.55a9.16 9.16 0 0 0-10.55 2.82 9.05 9.05 0 0 0-1.62 9.36 33 33 0 0 1-7.63 3.16 9.36 9.36 0 0 0-8.75-5.5h-.14a9.5 9.5 0 0 0-8.38 5.54 32.24 32.24 0 0 1-7.63-3.12 9.06 9.06 0 0 0-2.32-10 9.11 9.11 0 0 0-10-2.08 32.48 32.48 0 0 1-3.2-7.57 9.1 9.1 0 0 0 5.67-8.91 9.08 9.08 0 0 0-5.69-8.44 32.5 32.5 0 0 1 3.09-7.62 9.08 9.08 0 0 0 10.23-2.2 9 9 0 0 0 2-10.17 32.73 32.73 0 0 1 7.6-3.18 9.12 9.12 0 0 0 9.53 5.71 9 9 0 0 0 7.93-5.75 32.76 32.76 0 0 1 7.61 3.14 9.09 9.09 0 0 0 2.15 10.24 9.08 9.08 0 0 0 10.19 2.07 37.24 37.24 0 0 1 3.13 7.6 9.49 9.49 0 0 0-.06 17.33 32.18 32.18 0 0 1-3.16 7.57z' />\n    <path d='M49.987 32.934a17.09 17.09 0 1 0 17.08 17.08 17.1 17.1 0 0 0-17.08-17.08zm0 32.67a15.59 15.59 0 1 1 15.58-15.59 15.61 15.61 0 0 1-15.58 15.59z' />\n  </svg>\n)\n\nexport default StrokeSettings\n","import React from 'react'\nimport { connect } from 'redux-bundler-react'\nimport { withTranslation } from 'react-i18next'\nimport classnames from 'classnames'\nimport ipfsLogo from './ipfs-logo.svg'\nimport ipfsLogoText from './ipfs-logo-text.svg'\nimport StrokeMarketing from '../icons/StrokeMarketing'\nimport StrokeWeb from '../icons/StrokeWeb'\nimport StrokeCube from '../icons/StrokeCube'\nimport StrokeSettings from '../icons/StrokeSettings'\nimport StrokeIpld from '../icons/StrokeIpld'\n\n// Styles\nimport './NavBar.css'\n\nconst NavLink = ({\n  to,\n  icon,\n  open,\n  exact,\n  disabled,\n  children,\n  className,\n  activeClassName\n}) => {\n  const Svg = icon\n  const { hash } = window.location\n  const href = `#${to}`\n  const active = exact ? hash === href : hash && hash.startsWith(href)\n  const anchorClass = classnames({\n    'bg-white-10': active,\n    'o-50 no-pointer-events': disabled\n  }, ['dib db-l pv3 white no-underline f5 hover-bg-white-10 tc'])\n  const svgClass = classnames({\n    'o-100': active,\n    'o-50': !active\n  }, ['fill-current-color'])\n\n  return (\n    // eslint-disable-next-line jsx-a11y/anchor-is-valid\n    <a href={disabled ? null : href} className={anchorClass} style={{ borderLeft: active ? '5px solid rgba(201, 210, 215, .4)' : '' }} role='menuitem' title={children}>\n      <span className={`dib ${open ? 'dt-l' : ''}`}>\n        <span className={`dib dtc-l v-mid ${open ? 'pl3 pl5-l' : 'ph3'}`} style={{ width: 50 }}>\n          <Svg width='50' className={svgClass} />\n        </span>\n        <span className={`${open ? 'dib dtc-l' : 'dn'} pl2 pl3-l pr3 tl-l v-mid `}>\n          {children}\n        </span>\n      </span>\n    </a>\n  )\n}\n\nexport const NavBar = ({ t, width, open, onToggle }) => {\n  const codeUrl = 'https://github.com/ipfs-shipyard/ipfs-webui'\n  const bugsUrl = `${codeUrl}/issues`\n  const gitRevision = process.env.REACT_APP_GIT_REV\n  const revisionUrl = `${codeUrl}/commit/${gitRevision}`\n  return (\n    <div className='h-100 fixed-l flex flex-column justify-between' style={{ width: 'inherit' }}>\n      <div className='flex flex-column'>\n        <div className='pointer navy pv3 pv4-l' onClick={onToggle}>\n          <img className='center' style={{ height: 70, display: open ? 'block' : 'none' }} src={ipfsLogoText} alt='IPFS' title='Toggle navbar' />\n          <img className='center' style={{ height: 70, display: open ? 'none' : 'block' }} src={ipfsLogo} alt='IPFS' title='Toggle navbar' />\n        </div>\n        <nav className='db overflow-x-scroll overflow-x-hidden-l nowrap tc' role='menubar'>\n          <NavLink to='/' exact icon={StrokeMarketing} open={open}>{t('status:title')}</NavLink>\n          <NavLink to='/files' icon={StrokeWeb} open={open}>{t('files:title')}</NavLink>\n          <NavLink to='/explore' icon={StrokeIpld} open={open}>{t('explore:tabName')}</NavLink>\n          <NavLink to='/peers' icon={StrokeCube} open={open}>{t('peers:title')}</NavLink>\n          <NavLink to='/settings' icon={StrokeSettings} open={open}>{t('settings:title')}</NavLink>\n        </nav>\n      </div>\n      { open &&\n        <div className='dn db-l navbar-footer mb3 center'>\n          { gitRevision && <div className='tc mb1'>\n            <a className='link white f7 o-80 glow' href={revisionUrl} target='_blank' rel='noopener noreferrer'>{t('status:revision')} {gitRevision}</a>\n          </div> }\n          <div className='flex flex-colum'>\n            <a className='link white f7 o-50 glow' href={codeUrl} target='_blank' rel='noopener noreferrer'>{t('status:codeLink')}</a>\n            <span className='mh2 white f7 o-50'>|</span>\n            <a className='link white f7 o-50 glow' href={bugsUrl} target='_blank' rel='noopener noreferrer'>{t('status:bugsLink')}</a>\n          </div>\n        </div> }\n    </div>\n  )\n}\n\nexport const NavBarContainer = ({ doToggleNavbar, navbarIsOpen, navbarWidth, ...props }) => {\n  return (\n    <NavBar\n      open={navbarIsOpen}\n      width={navbarWidth}\n      onToggle={doToggleNavbar}\n      {...props} />\n  )\n}\n\nexport default connect(\n  'doToggleNavbar',\n  'selectNavbarIsOpen',\n  'selectNavbarWidth',\n  withTranslation()(NavBarContainer)\n)\n","import React from 'react'\n\nconst GlyphCancel = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M50 20.11A29.89 29.89 0 1 0 79.89 50 29.89 29.89 0 0 0 50 20.11zM63.58 59.7l-3.88 3.88-9.7-9.7-9.7 9.7-3.88-3.88 9.7-9.7-9.7-9.7 3.88-3.88 9.7 9.7 9.7-9.7 3.88 3.88-9.7 9.7z' />\n  </svg>\n)\n\nexport default GlyphCancel\n","import React from 'react'\nimport CancelIcon from '../../icons/GlyphCancel'\n\nconst Toast = ({ error, children, onDismiss }) => {\n  const bg = error ? 'bg-yellow' : 'bg-green'\n  return (\n    <div className='fixed bottom-0 tc pb2 z-max' style={{ left: '50% ', transform: 'translateX(-50%)' }}>\n      <div className={`dib f5 lh-copy avenir pl2 pl4-ns pv2 white br2 ${bg}`}>\n        {children}\n        <CancelIcon\n          className='dib fill-current-color ph3 glow o-80 pointer'\n          style={{ height: '28px', verticalAlign: '-8px' }}\n          onClick={onDismiss} />\n      </div>\n    </div>\n  )\n}\n\nexport default Toast\n","import React from 'react'\nimport { connect } from 'redux-bundler-react'\nimport { withTranslation } from 'react-i18next'\nimport Toast from './Toast'\n\nconst Notify = ({ t, notify, notifyI18nKey, doNotifyDismiss }) => {\n  const { show, error } = notify\n  if (!show) return null\n\n  return (\n    <Toast error={error} onDismiss={doNotifyDismiss}>\n      {t(notifyI18nKey)}\n    </Toast>\n  )\n}\n\nexport default connect(\n  'selectNotify',\n  'selectNotifyI18nKey',\n  'doNotifyDismiss',\n  withTranslation('notify')(Notify)\n)\n","import React from 'react'\nimport { connect } from 'redux-bundler-react'\nimport { withTranslation } from 'react-i18next'\n\nconst pickColor = (ipfsReady, ipfsConnected) => {\n  if (ipfsReady && ipfsConnected) return 'aqua'\n  if (ipfsReady) return 'yellow'\n  return 'gray'\n}\n\nconst pickTitleKey = (ipfsReady, ipfsConnected) => {\n  if (ipfsReady && ipfsConnected) return 'connectedToIpfs'\n  if (ipfsReady) return 'ipfsApiRequestFailed'\n  return 'connectingToIpfs'\n}\n\nexport const Connected = ({ t, ipfsReady, ipfsConnected, className, size = 28 }) => {\n  const title = t(pickTitleKey(ipfsReady, ipfsConnected))\n  const fill = pickColor(ipfsReady, ipfsConnected)\n  const opacity = ipfsConnected ? 'o-60' : 'o-100'\n\n  return (\n    <a title={title} className={`dib ${className}`} href='#/welcome'>\n      <svg className={`${fill} ${opacity} fill-current-color transition-all glow`} xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width={size} height={size}>\n        <path d='M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM6.5 9L10 5.5 13.5 9H11v4H9V9H6.5zm11 6L14 18.5 10.5 15H13v-4h2v4h2.5z ' />\n      </svg>\n    </a>\n  )\n}\n\nexport default connect(\n  'selectIpfsReady',\n  'selectIpfsConnected',\n  withTranslation('notify')(Connected)\n)\n","import React from 'react'\nimport { connect } from 'redux-bundler-react'\n\nexport const TourHelper = ({ doEnableTours, className = '', size = 23 }) => {\n  const handleClick = () => {\n    doEnableTours()\n  }\n\n  return (\n    <span className={`dib mr1 ml4-m pointer ${className}`} onClick={handleClick}>\n      <svg className='fill-aqua o-60 glow' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 44 44' width={size} height={size}>\n        <path d='m22,0c-12.2,0-22,9.8-22,22s9.8,22 22,22 22-9.8 22-22-9.8-22-22-22zm2,34c0,0.6-0.4,1-1,1h-2c-0.6,0-1-0.4-1-1v-2c0-0.6 0.4-1 1-1h2c0.6,0 1,0.4 1,1v2zm2.7-8.9c-1.4,1.2-2.4,2-2.7,3.1-0.1,0.5-0.5,0.8-1,0.8h-2c-0.6,0-1.1-0.5-1-1.1 0.4-2.9 2.5-4.5 4.2-5.9 1.8-1.4 2.8-2.3 2.8-4 0-2.8-2.2-5-5-5s-5,2.2-5,5c0,0.2 0,0.4 0,0.6 0.1,0.5-0.2,1-0.7,1.1l-1.9,.6c-0.6,0.2-1.2-0.2-1.3-0.8-0.1-0.5-0.1-1-0.1-1.5 0-5 4-9 9-9s9,4 9,9c0,3.7-2.4,5.6-4.3,7.1z' />\n      </svg>\n    </span>\n  )\n}\n\nexport default connect(\n  'doEnableTours',\n  TourHelper\n)\n","import React from 'react'\nimport isIPFS from 'is-ipfs'\nimport PropTypes from 'prop-types'\nimport { withTranslation } from 'react-i18next'\nimport StrokeFolder from '../../icons/StrokeFolder'\nimport StrokeIpld from '../../icons/StrokeIpld'\nimport Button from '../../components/button/Button'\nimport './FilesExploreForm.css'\n\nclass FilesExploreForm extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      path: '',\n      hideExplore: false\n    }\n    this.onChange = this.onChange.bind(this)\n    this.onKeyDown = this.onKeyDown.bind(this)\n    this.onBrowse = this.onBrowse.bind(this)\n    this.onInspect = this.onInspect.bind(this)\n  }\n\n  onKeyDown (evt) {\n    if (evt.key === 'Enter') {\n      this.onBrowse(evt)\n    }\n  }\n\n  onBrowse (evt) {\n    evt.preventDefault()\n\n    if (this.isValid) {\n      let path = this.path\n\n      if (isIPFS.cid(path)) {\n        path = `/ipfs/${path}`\n      }\n\n      this.props.onBrowse(path)\n      this.setState({ path: '' })\n    }\n  }\n\n  onInspect (evt) {\n    evt.preventDefault()\n\n    if (this.isValid) {\n      this.props.onInspect(this.path)\n      this.setState({ path: '' })\n    }\n  }\n\n  onChange (evt) {\n    const path = evt.target.value\n    this.setState({ path })\n  }\n\n  get path () {\n    return this.state.path.trim()\n  }\n\n  get isValid () {\n    return this.path !== '' && (isIPFS.cid(this.path) || isIPFS.path(this.path))\n  }\n\n  get inputClass () {\n    if (this.path === '') {\n      return 'focus-outline'\n    }\n\n    if (this.isValid) {\n      return 'b--green-muted focus-outline-green'\n    } else {\n      return 'b--red-muted focus-outline-red'\n    }\n  }\n\n  render () {\n    const { t } = this.props\n    return (\n      <div data-id='FilesExploreForm' className='sans-serif black-80 flex'>\n        <div className='flex-auto'>\n          <div className='relative'>\n            <input id='ipfs-path' className={`input-reset bn pa2 mb2 db w-100 f6 br-0 placeholder-light ${this.inputClass}`} style={{ borderRadius: '3px 0 0 3px' }} type='text' placeholder='QmHash' aria-describedby='name-desc' onChange={this.onChange} onKeyDown={this.onKeyDown} value={this.state.path} />\n            <small id='ipfs-path-desc' className='o-0 absolute f6 black-60 db mb2'>Paste in a CID or IPFS path</small>\n          </div>\n        </div>\n        <div className='flex flex-row-reverse mb2'>\n          <Button\n            minWidth={0}\n            disabled={!this.isValid}\n            title={t('exploreForm.inspect')}\n            style={{ borderRadius: '0 3px 3px 0' }}\n            onClick={this.onInspect}\n            bg='bg-teal'\n            className='ExploreFormButton button-reset pv1 ph2 ba f7 fw4 white overflow-hidden' >\n            <StrokeIpld style={{ height: 24 }} className='dib fill-current-color v-mid' />\n            <span className='ml2'>{t('exploreForm.inspect')}</span>\n          </Button>\n          <Button\n            minWidth={0}\n            disabled={!this.isValid}\n            style={{ borderRadius: '0' }}\n            title={t('exploreForm.browse')}\n            onClick={this.onBrowse}\n            className='ExploreFormButton button-reset pv1 ph2 ba f7 fw4 white bg-aqua overflow-hidden' >\n            <StrokeFolder style={{ height: 24 }} className='dib fill-current-color v-mid' />\n            <span className='ml2'>{t('exploreForm.browse')}</span>\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nFilesExploreForm.propTypes = {\n  t: PropTypes.func.isRequired,\n  onInspect: PropTypes.func.isRequired,\n  onBrowse: PropTypes.func.isRequired\n}\n\nexport default withTranslation('files')(FilesExploreForm)\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'redux-bundler-react'\nimport { getNavHelper } from 'internal-nav-helper'\nimport ReactJoyride from 'react-joyride'\nimport { withTranslation } from 'react-i18next'\nimport { filesToStreams } from './lib/files'\n// React DnD\nimport { DropTarget } from 'react-dnd'\nimport { NativeTypes } from 'react-dnd-html5-backend'\n// Lib\nimport { appTour } from './lib/tours'\n// Components\nimport NavBar from './navigation/NavBar'\nimport ComponentLoader from './loader/ComponentLoader'\nimport Notify from './components/notify/Notify'\nimport Connected from './components/connected/Connected'\nimport TourHelper from './components/tour/TourHelper'\nimport FilesExploreForm from './files/explore-form/FilesExploreForm'\n\nexport class App extends Component {\n  static propTypes = {\n    doInitIpfs: PropTypes.func.isRequired,\n    doUpdateUrl: PropTypes.func.isRequired,\n    doUpdateHash: PropTypes.func.isRequired,\n    doFilesWrite: PropTypes.func.isRequired,\n    route: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element\n    ]).isRequired,\n    routeInfo: PropTypes.object.isRequired,\n    navbarIsOpen: PropTypes.bool.isRequired,\n    // Injected by DropTarget\n    isOver: PropTypes.bool.isRequired\n  }\n\n  componentDidMount () {\n    this.props.doInitIpfs()\n  }\n\n  addFiles = async (filesPromise) => {\n    const { doFilesWrite, doUpdateHash, routeInfo } = this.props\n    const isFilesPage = routeInfo.pattern === '/files*'\n    const addAtPath = isFilesPage ? routeInfo.params.path : '/'\n    const files = await filesPromise\n\n    doFilesWrite(await filesToStreams(files), addAtPath)\n    // Change to the files pages if the user is not there\n    if (!isFilesPage) {\n      doUpdateHash('/files')\n    }\n  }\n\n  handleJoyrideCb = (data) => {\n    if (data.action === 'close') {\n      this.props.doDisableTooltip()\n    }\n  }\n\n  render () {\n    const { t, route: Page, ipfsReady, doFilesNavigateTo, doExploreUserProvidedPath, routeInfo: { url }, navbarIsOpen, connectDropTarget, canDrop, isOver, showTooltip } = this.props\n\n    return connectDropTarget(\n      <div className='sans-serif h-100' onClick={getNavHelper(this.props.doUpdateUrl)}>\n        {/* Tinted overlay that appears when dragging and dropping an item */}\n        { canDrop && isOver && <div className='w-100 h-100 top-0 left-0 absolute' style={{ background: 'rgba(99, 202, 210, 0.2)' }} /> }\n        <div className='flex-l' style={{ minHeight: '100vh' }}>\n          <div className={`flex-none-l bg-navy ${navbarIsOpen ? 'w5-l' : 'w4-l'}`}>\n            <NavBar />\n          </div>\n          <div className='flex-auto-l'>\n            <div className='flex items-center ph3 ph4-l' style={{ WebkitAppRegion: 'drag', height: 75, background: '#F0F6FA', paddingTop: '20px', paddingBottom: '15px' }}>\n              <div className='joyride-app-explore' style={{ width: 560 }}>\n                <FilesExploreForm onBrowse={doFilesNavigateTo} onInspect={doExploreUserProvidedPath} />\n              </div>\n              <div className='dn flex-ns flex-auto items-center justify-end'>\n                <TourHelper />\n                <Connected className='joyride-app-status' />\n              </div>\n            </div>\n            <main className='bg-white pv3 pa3 pa4-l'>\n              { (ipfsReady || url === '/welcome' || url.startsWith('/settings'))\n                ? <Page />\n                : <ComponentLoader pastDelay />\n              }\n            </main>\n          </div>\n        </div>\n\n        <ReactJoyride\n          run={showTooltip}\n          steps={appTour.getSteps({ t })}\n          styles={appTour.styles}\n          callback={this.handleJoyrideCb}\n          scrollToFirstStep\n          disableOverlay />\n\n        <Notify />\n      </div>\n    )\n  }\n}\n\nconst dropTarget = {\n  drop: (props, monitor, App) => {\n    if (monitor.didDrop()) {\n      return\n    }\n\n    const { filesPromise } = monitor.getItem()\n    App.addFiles(filesPromise)\n  },\n  canDrop: (props) => props.filesPathInfo ? props.filesPathInfo.isMfs : true\n}\n\nconst dropCollect = (connect, monitor) => ({\n  connectDropTarget: connect.dropTarget(),\n  isOver: monitor.isOver(),\n  canDrop: monitor.canDrop()\n})\n\nexport const AppWithDropTarget = DropTarget(NativeTypes.FILE, dropTarget, dropCollect)(App)\n\nexport default connect(\n  'selectRoute',\n  'selectNavbarIsOpen',\n  'selectRouteInfo',\n  'selectIpfsReady',\n  'selectShowTooltip',\n  'doFilesNavigateTo',\n  'doExploreUserProvidedPath',\n  'doUpdateUrl',\n  'doUpdateHash',\n  'doInitIpfs',\n  'doFilesWrite',\n  'doDisableTooltip',\n  'selectFilesPathInfo',\n  withTranslation('app')(AppWithDropTarget)\n)\n","// Extracted from https://github.com/HenrikJoreteg/redux-bundler/blob/c1b8ce7629ee6c389f4155b3254e530bd09c868e/src/bundles/create-reactor-bundle.js\nimport { debounce, ric, raf } from 'redux-bundler'\n\nconst defaults = {\n  idleTimeout: 2000,\n  idleAction: 'APP_IDLE',\n  stopWhenTabInactive: false\n}\n\nconst ricOptions = { timeout: 500 }\n\nexport const getIdleDispatcher = (stopWhenInactive, timeout, fn) =>\n  debounce(() => {\n    // the requestAnimationFrame ensures it doesn't run when tab isn't active\n    stopWhenInactive ? raf(() => ric(fn, ricOptions)) : ric(fn, ricOptions)\n  }, timeout)\n\nexport default spec => ({\n  name: 'appIdle',\n\n  init: store => {\n    const opts = Object.assign({}, defaults, spec)\n    const { idleAction, idleTimeout } = opts\n    let idleDispatcher\n    if (idleTimeout) {\n      idleDispatcher = getIdleDispatcher(\n        opts.stopWhenTabInactive,\n        idleTimeout,\n        () => store.dispatch({ type: idleAction })\n      )\n    }\n\n    const callback = () => {\n      if (idleDispatcher) {\n        idleDispatcher()\n      }\n    }\n\n    store.subscribe(callback)\n    callback()\n  }\n})\n","import { createSelector } from 'redux-bundler'\n\n// Depends on nodeBandwidthBundle\nexport default function (opts) {\n  opts = opts || {}\n  // Only store up to 1 day of data\n  opts.windowSize = opts.windowSize || 1000 * 60 * 60 * 24\n\n  return {\n    name: 'nodeBandwidthChart',\n\n    reducer (state = { data: { in: [], out: [] } }, action) {\n      if (action.type === 'NODE_BANDWIDTH_CHART_DATA_UPDATED') {\n        return { ...state, data: action.payload.chartData }\n      }\n\n      return state\n    },\n\n    selectNodeBandwidthChartData: state => state.nodeBandwidthChart.data,\n\n    doUpdateNodeBandwidthChartData: (bw, timestamp, chartData) => ({ dispatch }) => {\n      chartData = {\n        in: chartData.in.concat({ x: timestamp, y: parseInt(bw.rateIn.toFixed(0), 10) }),\n        out: chartData.out.concat({ x: timestamp, y: parseInt(bw.rateOut.toFixed(0), 10) })\n      }\n\n      const startIndex = chartData.in.findIndex(d => d.x >= timestamp - opts.windowSize)\n      if (startIndex > 0) {\n        chartData.in = chartData.in.slice(startIndex)\n        chartData.out = chartData.out.slice(startIndex)\n      }\n\n      dispatch({ type: 'NODE_BANDWIDTH_CHART_DATA_UPDATED', payload: { chartData } })\n    },\n\n    reactUpdateNodeBandwidthChartData: createSelector(\n      'selectNodeBandwidth',\n      'selectNodeBandwidthLastSuccess',\n      'selectNodeBandwidthEnabled',\n      'selectNodeBandwidthChartData',\n      (bw, lastSuccess, enabled, chartData) => {\n        if (!bw || !enabled) return\n\n        // Only tests for .in because it has the same timestamps as .out\n        if (!chartData.in.length || lastSuccess > chartData.in[chartData.in.length - 1].x) {\n          return {\n            actionCreator: 'doUpdateNodeBandwidthChartData',\n            args: [bw, lastSuccess, chartData]\n          }\n        }\n      }\n    )\n  }\n}\n","import { createAsyncResourceBundle, createSelector } from 'redux-bundler'\nimport ms from 'milliseconds'\n\nconst bundle = createAsyncResourceBundle({\n  name: 'nodeBandwidth',\n  actionBaseType: 'NODE_BANDWIDTH',\n  getPromise: async ({ getIpfs }) => {\n    try {\n      const stats = await getIpfs().stats.bw()\n      return stats\n    } catch (err) {\n      if (/bandwidth reporter disabled in config/.test(err)) {\n        return { disabled: true }\n      }\n\n      throw err\n    }\n  },\n  staleAfter: ms.seconds(3),\n  retryAfter: ms.seconds(3),\n  persist: false,\n  checkIfOnline: false\n})\n\nbundle.selectNodeBandwidthEnabled = state => state.nodeBandwidth.data ? !state.nodeBandwidth.data.disabled : false\n\nbundle.selectNodeBandwidthLastSuccess = state => state.nodeBandwidth.lastSuccess\n\n// Update the node bandwidth if it is stale (appTime - lastSuccess > staleAfter)\nbundle.reactNodeBandwidthFetchWhenIdle = createSelector(\n  'selectNodeBandwidthShouldUpdate',\n  'selectIpfsReady',\n  (shouldUpdate, ipfsReady) => {\n    if (shouldUpdate && ipfsReady) {\n      return { actionCreator: 'doFetchNodeBandwidth' }\n    }\n  }\n)\n\nexport default bundle\n","import { createAsyncResourceBundle, createSelector } from 'redux-bundler'\nimport ms from 'milliseconds'\n\nconst bundle = createAsyncResourceBundle({\n  name: 'peers',\n  actionBaseType: 'PEERS',\n  getPromise: ({ getIpfs }) => getIpfs().swarm.peers({ verbose: true }),\n  staleAfter: ms.seconds(10),\n  persist: false,\n  checkIfOnline: false\n})\n\nbundle.selectPeersCount = createSelector(\n  'selectPeers',\n  (peers) => {\n    if (!Array.isArray(peers)) return 0\n    return peers.length\n  }\n)\n\nbundle.doConnectSwarm = addr => async ({ dispatch, getIpfs }) => {\n  dispatch({ type: 'SWARM_CONNECT_STARTED', payload: { addr } })\n  const ipfs = getIpfs()\n\n  try {\n    await ipfs.swarm.connect(addr)\n  } catch (err) {\n    return dispatch({\n      type: 'SWARM_CONNECT_FAILED',\n      payload: { addr, error: err }\n    })\n  }\n\n  dispatch({ type: 'SWARM_CONNECT_FINISHED', payload: { addr } })\n}\n\n// Update the peers if they are stale (appTime - lastSuccess > staleAfter)\nbundle.reactPeersFetchWhenIdle = createSelector(\n  'selectPeersShouldUpdate',\n  'selectIpfsConnected',\n  (shouldUpdate, ipfsConnected) => {\n    if (shouldUpdate && ipfsConnected) {\n      return { actionCreator: 'doFetchPeers' }\n    }\n  }\n)\n\n// Get the peers frequently when we're on the peers page\nbundle.reactPeersFetchWhenActive = createSelector(\n  'selectAppTime',\n  'selectRouteInfo',\n  'selectPeersRaw',\n  'selectIpfsConnected',\n  (appTime, routeInfo, peersInfo, selectIpfsReady, ipfsConnected) => {\n    const lastSuccess = peersInfo.lastSuccess || 0\n    if (routeInfo.url === '/peers' && ipfsConnected && !peersInfo.isLoading && appTime - lastSuccess > ms.seconds(5)) {\n      return { actionCreator: 'doFetchPeers' }\n    }\n  }\n)\n\nexport default bundle\n","import { createAsyncResourceBundle, createSelector } from 'redux-bundler'\nimport { getConfiguredCache } from 'money-clip'\nimport geoip from 'ipfs-geoip'\nimport PQueue from 'p-queue'\nimport HLRU from 'hashlru'\nimport Multiaddr from 'multiaddr'\nimport ms from 'milliseconds'\nimport ip from 'ip'\nimport memoizee from 'memoizee'\n\n// After this time interval, we re-check the locations for each peer\n// once again through PeerLocationResolver.\nconst UPDATE_EVERY = ms.seconds(1)\n\n// Depends on ipfsBundle, peersBundle\nexport default function (opts) {\n  opts = opts || {}\n  // Max number of locations to retrieve concurrently.\n  // HTTP API are throttled to max 4-6 at a time by the browser itself.\n  opts.concurrency = opts.concurrency || 4\n  // Cache options\n  opts.cache = opts.cache || {}\n\n  const peerLocResolver = new PeerLocationResolver(opts)\n\n  const bundle = createAsyncResourceBundle({\n    name: 'peerLocations',\n    actionBaseType: 'PEER_LOCATIONS',\n    getPromise: async ({ store, getIpfs }) => {\n      const peers = store.selectPeers()\n      return peerLocResolver.findLocations(peers, getIpfs)\n    },\n    staleAfter: UPDATE_EVERY,\n    retryAfter: UPDATE_EVERY,\n    persist: false,\n    checkIfOnline: false\n  })\n\n  bundle.reactPeerLocationsFetch = createSelector(\n    'selectRouteInfo',\n    'selectPeerLocationsShouldUpdate',\n    'selectIpfsConnected',\n    (routeInfo, shouldUpdate, ipfsConnected) => {\n      if (routeInfo.url === '/peers' && shouldUpdate && ipfsConnected) {\n        return { actionCreator: 'doFetchPeerLocations' }\n      }\n    }\n  )\n\n  bundle.selectPeerLocationsForSwarm = createSelector(\n    'selectPeers',\n    'selectPeerLocations',\n    'selectBootstrapPeers',\n    'selectIdentity',\n    (peers, locations = {}, bootstrapPeers, identity) => peers && peers.map(peer => {\n      const peerId = peer.peer.toB58String()\n      const locationObj = locations ? locations[peerId] : null\n      const location = toLocationString(locationObj)\n      const flagCode = locationObj && locationObj.country_code\n      const coordinates = locationObj && [\n        locationObj.longitude,\n        locationObj.latitude\n      ]\n      const connection = parseConnection(peer.addr)\n      const address = peer.addr.toString()\n      const latency = parseLatency(peer.latency)\n      const notes = parseNotes(peer, bootstrapPeers)\n      const { isPrivate, isNearby } = isPrivateAndNearby(peer.addr, identity)\n\n      return {\n        peerId,\n        location,\n        flagCode,\n        coordinates,\n        connection,\n        address,\n        latency,\n        notes,\n        isPrivate,\n        isNearby\n      }\n    })\n  )\n\n  bundle.selectPeerCoordinates = createSelector(\n    'selectPeerLocationsForSwarm',\n    peers => {\n      if (!peers) return []\n      const allCoord = peers\n        .map(p => p.coordinates)\n        .filter(arr => !!arr)\n\n      const unique = new Set(allCoord.map(JSON.stringify))\n      return Array.from(unique).map(JSON.parse)\n    }\n  )\n\n  return bundle\n}\n\nconst isNonHomeIPv4 = t => t[0] === 4 && t[1] !== '127.0.0.1'\n\nconst toLocationString = loc => {\n  if (!loc) return null\n  const { country_name: country, city } = loc\n  return city && country ? `${country}, ${city}` : country\n}\n\nconst parseConnection = (multiaddr) => {\n  return multiaddr.protoNames().join('')\n}\n\nconst parseLatency = (latency) => {\n  if (latency === 'n/a') return\n\n  let value = parseInt(latency)\n  const unit = /(s|ms)/.exec(latency)[0]\n\n  value = unit === 's' ? value * 1000 : value\n\n  return value\n}\n\nexport const getPublicIP = memoizee((identity) => {\n  if (!identity) return\n\n  for (const maddr of identity.addresses) {\n    try {\n      const addr = Multiaddr(maddr).nodeAddress()\n\n      if ((ip.isV4Format(addr.address) || ip.isV6Format(addr.address)) && !ip.isPrivate(addr.address)) {\n        return addr.address\n      }\n    } catch (_) {}\n  }\n})\n\nexport const isPrivateAndNearby = (maddr, identity) => {\n  const publicIP = getPublicIP(identity)\n  let isPrivate = false\n  let isNearby = false\n  let addr\n\n  try {\n    addr = maddr.nodeAddress()\n  } catch (_) {\n    // Might explode if maddr does not have an IP or cannot be converted\n    // to a node address. This might happen if it's a relay. We do not print\n    // or handle the error, otherwise we would get perhaps thousands of logs.\n    return { isPrivate, isNearby }\n  }\n\n  // At this point, addr.address and publicIP must be valid IP addresses. Hence,\n  // none of the calls bellow for ip library should fail.\n  isPrivate = ip.isPrivate(addr.address)\n\n  if (publicIP) {\n    if (ip.isV4Format(addr.address)) {\n      isNearby = ip.cidrSubnet(`${publicIP}/24`).contains(addr.address)\n    } else if (ip.isV6Format(addr.address)) {\n      isNearby = ip.cidrSubnet(`${publicIP}/48`).contains(addr.address) &&\n        !ip.cidrSubnet('fc00::/8').contains(addr.address)\n      // peerIP6  fc00::/8 to fix case of cjdns where IPs are not spatial allocated.\n    }\n  }\n\n  return { isPrivate, isNearby }\n}\n\nconst parseNotes = (peer, bootstrapPeers) => {\n  const peerId = peer.peer.toB58String()\n  const addr = peer.addr\n  const ipfsAddr = addr.encapsulate(`/ipfs/${peerId}`).toString()\n  const p2pAddr = addr.encapsulate(`/p2p/${peerId}`).toString()\n\n  if (bootstrapPeers.includes(ipfsAddr) || bootstrapPeers.includes(p2pAddr)) {\n    return { type: 'BOOTSTRAP_NODE' }\n  }\n\n  const opts = addr.toOptions()\n\n  if (opts.transport === 'p2p-circuit') {\n    return { type: 'RELAY_NODE', node: opts.host }\n  }\n}\n\nclass PeerLocationResolver {\n  constructor (opts) {\n    this.geoipCache = getConfiguredCache({\n      name: 'geoipCache',\n      version: 1,\n      maxAge: ms.weeks(1),\n      ...opts.cache\n    })\n\n    this.failedAddrs = HLRU(500)\n\n    this.queue = new PQueue({\n      concurrency: opts.concurrency,\n      autoStart: true\n    })\n\n    this.geoipLookupPromises = {}\n\n    this.pass = 0\n  }\n\n  async findLocations (peers, getIpfs) {\n    const res = {}\n\n    for (const p of this.optimizedPeerSet(peers)) {\n      const peerId = p.peer.toB58String()\n\n      const ipv4Tuple = p.addr.stringTuples().find(isNonHomeIPv4)\n      if (!ipv4Tuple) {\n        continue\n      }\n\n      const ipv4Addr = ipv4Tuple[1]\n      if (this.failedAddrs.has(ipv4Addr)) {\n        continue\n      }\n\n      // maybe we have it cached by ipv4 address already, check that.\n      const location = await this.geoipCache.get(ipv4Addr)\n      if (location) {\n        res[peerId] = location\n        continue\n      }\n\n      // no ip address cached. are we looking it up already?\n      if (this.geoipLookupPromises[ipv4Addr]) {\n        continue\n      }\n\n      this.geoipLookupPromises[ipv4Addr] = this.queue.add(async () => {\n        try {\n          const data = await geoip.lookup(getIpfs(), ipv4Addr)\n          await this.geoipCache.set(ipv4Addr, data)\n        } catch (e) {\n          // mark this one as failed so we don't retry again\n          this.failedAddrs.set(ipv4Addr, true)\n        } finally {\n          delete this.geoipLookupPromises[ipv4Addr]\n        }\n      })\n    }\n\n    return res\n  }\n\n  optimizedPeerSet (peers) {\n    if (this.pass && this.pass < 3) {\n      // use a copy of peers sorted by latency so we can resolve closest ones first\n      // (https://github.com/ipfs-shipyard/ipfs-webui/issues/1273)\n      const ms = x => (parseLatency(x.latency) || 9999)\n      peers = peers.concat().sort((a, b) => ms(a) - ms(b))\n      // take the closest subset, increase sample size each time\n      // this ensures initial map updates are fast even with thousands of peers\n      switch (this.pass) {\n        case 0:\n          peers = peers.slice(0, 10)\n          break\n        case 1:\n          peers = peers.slice(0, 100)\n          break\n        case 2:\n          peers = peers.slice(0, 200)\n          break\n        default:\n      }\n      this.pass = this.pass + 1\n    }\n    return peers\n  }\n}\n","import Loadable from 'react-loadable'\nimport ComponentLoader from '../loader/ComponentLoader.js'\n\nconst LoadableStatusPage = Loadable({\n  loader: () => import('./StatusPage'),\n  loading: ComponentLoader\n})\n\nexport default LoadableStatusPage\n","import Loadable from 'react-loadable'\nimport ComponentLoader from '../loader/ComponentLoader.js'\n\nconst LoadableFilesPage = Loadable({\n  loader: () => import('./FilesPage'),\n  loading: ComponentLoader\n})\n\nexport default LoadableFilesPage\n","import Loadable from 'react-loadable'\nimport ComponentLoader from '../loader/ComponentLoader.js'\n\nconst LoadableStartExploringPage = Loadable({\n  loader: () => import('./StartExploringContainer'),\n  loading: ComponentLoader\n})\n\nexport default LoadableStartExploringPage\n","import Loadable from 'react-loadable'\nimport ComponentLoader from '../loader/ComponentLoader.js'\n\nconst LoadableExplorePage = Loadable({\n  loader: () => import('./ExploreContainer'),\n  loading: ComponentLoader\n})\n\nexport default LoadableExplorePage\n","import Loadable from 'react-loadable'\nimport ComponentLoader from '../loader/ComponentLoader.js'\n\nconst LoadablePeersPage = Loadable({\n  loader: () => import('./PeersPage'),\n  loading: ComponentLoader\n})\n\nexport default LoadablePeersPage\n","import Loadable from 'react-loadable'\nimport ComponentLoader from '../loader/ComponentLoader.js'\n\nconst LoadableSettingsPage = Loadable({\n  loader: () => import('./SettingsPage'),\n  loading: ComponentLoader\n})\n\nexport default LoadableSettingsPage\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { withTranslation } from 'react-i18next'\nimport Title from './Title'\nimport Box from '../components/box/Box'\nimport AnalyticsToggle from '../components/analytics-toggle/AnalyticsToggle'\n\nexport const AnalyticsPage = ({ t }) => (\n  <div data-id='AnalyticsPage' className='mw9 center'>\n    <Helmet>\n      <title>{t('title')} - IPFS</title>\n    </Helmet>\n\n    <Box>\n      <Title>{t('analytics')}</Title>\n      <AnalyticsToggle t={t} open />\n    </Box>\n  </div>\n)\n\nexport default withTranslation('settings')(AnalyticsPage)\n","import Loadable from 'react-loadable'\nimport ComponentLoader from '../loader/ComponentLoader.js'\n\nconst LoadableWelcomePage = Loadable({\n  loader: () => import('./WelcomePage'),\n  loading: ComponentLoader\n})\n\nexport default LoadableWelcomePage\n","import React from 'react'\n\nconst BlankPage = () => (\n  <div data-id='BlankPage' />\n)\n\nexport default BlankPage\n","import { createRouteBundle } from 'redux-bundler'\nimport StatusPage from '../status/LoadableStatusPage'\nimport FilesPage from '../files/LoadableFilesPage'\nimport StartExploringPage from '../explore/LoadableStartExploringPage'\nimport ExplorePage from '../explore/LoadableExplorePage'\nimport PeersPage from '../peers/LoadablePeersPage'\nimport SettingsPage from '../settings/LoadableSettingsPage'\nimport AnalyticsPage from '../settings/AnalyticsPage'\nimport WelcomePage from '../welcome/LoadableWelcomePage'\nimport BlankPage from '../blank/BlankPage'\n\nexport default createRouteBundle({\n  '/explore': StartExploringPage,\n  '/explore*': ExplorePage,\n  '/files*': FilesPage,\n  '/ipfs*': FilesPage,\n  '/ipns*': FilesPage,\n  '/pins*': FilesPage,\n  '/peers': PeersPage,\n  '/settings': SettingsPage,\n  '/settings/analytics': AnalyticsPage,\n  '/welcome': WelcomePage,\n  '/blank': BlankPage,\n  '/': StatusPage,\n  '': StatusPage\n}, { routeInfoSelector: 'selectHash' })\n","import { createSelector } from 'redux-bundler'\n\nexport default {\n  name: 'redirects',\n\n  reactToEmptyHash: createSelector(\n    'selectHash',\n    (hash) => {\n      if (hash === '') {\n        return { actionCreator: 'doUpdateHash', args: ['#/'] }\n      }\n    }\n  ),\n\n  reactToIpfsConnectionFail: createSelector(\n    'selectIpfsInitFailed',\n    'selectHash',\n    (failed, hash) => {\n      if (failed && hash !== '/welcome' && !hash.startsWith('/settings')) {\n        return { actionCreator: 'doUpdateHash', args: ['#/welcome'] }\n      }\n    }\n  )\n}\n","const bundle = {\n  name: 'config_save',\n\n  reducer: (state = { isSaving: false }, action) => {\n    if (action.type === 'CONFIG_SAVE_STARTED') {\n      return { ...state, isSaving: true }\n    }\n    if (action.type === 'CONFIG_SAVE_FINISHED') {\n      return { ...state, isSaving: false, lastSuccess: Date.now() }\n    }\n    if (action.type === 'CONFIG_SAVE_FAILED') {\n      const { error } = action\n      const errorMessage = (error && error.message) || error\n      return { ...state, isSaving: false, lastError: Date.now(), errorMessage }\n    }\n    return state\n  },\n\n  selectConfigIsSaving: state => state.config_save.isSaving,\n  selectConfigSaveLastSuccess: state => state.config_save.lastSuccess,\n  selectConfigSaveLastError: state => state.config_save.lastError,\n\n  doSaveConfig: (configStr) => async ({ dispatch, getIpfs, store }) => {\n    if (store.selectConfigIsSaving()) {\n      return console.log('doSaveConfig skipped, config save already in progress')\n    }\n    dispatch({ type: 'CONFIG_SAVE_STARTED' })\n    try {\n      const obj = JSON.parse(configStr)\n      await getIpfs().config.replace(obj)\n    } catch (err) {\n      return dispatch({ type: 'CONFIG_SAVE_FAILED', error: err })\n    }\n    await store.doMarkConfigAsOutdated()\n    dispatch({ type: 'CONFIG_SAVE_FINISHED' })\n\n    if (store.selectIsIpfsDesktop()) {\n      store.doDesktopIpfsConfigChanged()\n    }\n  }\n}\n\nexport default bundle\n","export default {\n  name: 'navbar',\n\n  persistActions: ['NAVBAR_TOGGLE'],\n\n  reducer: (state = { isOpen: true }, action) => {\n    if (action.type === 'NAVBAR_TOGGLE') {\n      return {\n        isOpen: !state.isOpen\n      }\n    }\n\n    return state\n  },\n\n  doToggleNavbar: () => async ({ dispatch }) => {\n    dispatch({ type: 'NAVBAR_TOGGLE' })\n  },\n\n  selectNavbarIsOpen: state => state.navbar.isOpen,\n\n  selectNavbarWidth: state => state.navbar.isOpen ? 256 : 128\n}\n","import root from 'window-or-global'\n\nexport default {\n  name: 'tours',\n\n  init: (store) => {\n    const tourTooltip = root.localStorage.getItem('tourTooltip')\n\n    if (tourTooltip) {\n      store.doDisableTooltip()\n    }\n  },\n\n  reducer: (state = { enabled: false, tooltip: true }, action) => {\n    if (action.type === 'TOURS_ENABLE') {\n      return { ...state, enabled: true }\n    }\n\n    if (action.type === 'TOURS_DISABLE') {\n      return { ...state, enabled: false }\n    }\n\n    if (action.type === 'TOURS_TOOLTIP_DISABLE') {\n      return { ...state, tooltip: false }\n    }\n\n    return state\n  },\n\n  doDisableTooltip: () => ({ dispatch }) => {\n    root.localStorage.setItem('tourTooltip', false)\n    dispatch({ type: 'TOURS_TOOLTIP_DISABLE' })\n  },\n\n  doEnableTours: () => ({ dispatch }) => {\n    dispatch({ type: 'TOURS_ENABLE' })\n  },\n\n  doDisableTours: () => ({ dispatch }) => {\n    dispatch({ type: 'TOURS_DISABLE' })\n  },\n\n  selectTours: state => state.tours,\n\n  selectToursEnabled: state => state.tours.enabled,\n\n  selectShowTooltip: state => state.tours.tooltip\n}\n","import { createSelector } from 'redux-bundler'\n\nexport const ACTIONS = {\n  EXP_TOGGLE_STARTED: 'EXPERIMENTS_TOGGLE_STARTED',\n  EXP_TOGGLE_FINISHED: 'EXPERIMENTS_TOGGLE_FINISHED',\n  EXP_TOGGLE_FAILED: 'EXPERIMENTS_TOGGLE_FAILED',\n  EXP_UPDATE_STATE: 'EXPERIMENTS_UPDATE_STATE'\n}\n\nconst EXPERIMENTS = [\n  {\n    key: 'npmOnIpfs',\n    actionUrls: [\n      {\n        url: 'https://github.com/ipfs-shipyard/npm-on-ipfs',\n        key: 'readMoreUrl'\n      },\n      {\n        url: 'https://github.com/ipfs-shipyard/npm-on-ipfs/issues',\n        key: 'issueUrl'\n      },\n      {\n        url: 'https://github.com/ipfs-shipyard/ipfs-desktop/issues/957',\n        key: 'feedbackUrl'\n      }\n    ],\n    desktopOnly: true\n  }\n]\n\nconst mergeState = (state, payload) =>\n  Object.keys(payload).reduce(\n    (all, key) => ({\n      ...all,\n      [key]: {\n        ...state[key],\n        ...payload[key]\n      }\n    }),\n    state\n  )\n\nconst toggleEnabled = (state, key) => {\n  return unblock(\n    {\n      ...state,\n      [key]: {\n        ...state[key],\n        enabled: !(state && state[key] && state[key].enabled)\n      }\n    },\n    key\n  )\n}\n\nconst unblock = (state, key) => {\n  return {\n    ...state,\n    [key]: {\n      ...state[key],\n      blocked: false\n    }\n  }\n}\n\nconst block = (state, key) => {\n  return {\n    ...state,\n    [key]: {\n      ...state[key],\n      blocked: true\n    }\n  }\n}\n\nexport default {\n  name: 'experiments',\n\n  persistActions: [\n    ACTIONS.EXP_TOGGLE_FINISHED,\n    ACTIONS.EXP_TOGGLE_FAILED,\n    ACTIONS.EXP_UPDATE_STATE\n  ],\n\n  reducer: (state = {}, action) => {\n    if (action.type === ACTIONS.EXP_TOGGLE_STARTED) {\n      return block(state, action.payload.key)\n    }\n\n    if (action.type === ACTIONS.EXP_UPDATE_STATE) {\n      return mergeState(state, action.payload)\n    }\n\n    if (action.type === ACTIONS.EXP_TOGGLE_FINISHED) {\n      return toggleEnabled(state, action.payload.key)\n    }\n\n    if (action.type === ACTIONS.EXP_TOGGLE_FAILED) {\n      return unblock(state, action.payload.key)\n    }\n\n    return state\n  },\n\n  doExpToggleAction: key => ({ dispatch }) => {\n    if (!key) return\n\n    dispatch({\n      type: ACTIONS.EXP_TOGGLE_STARTED,\n      payload: { key }\n    })\n  },\n\n  selectExperimentsState: state => state.experiments,\n\n  selectExperiments: createSelector(\n    'selectIsIpfsDesktop',\n    'selectExperimentsState',\n    (isDesktop, state) =>\n      EXPERIMENTS.filter(e => !!e.desktopOnly === isDesktop).map(e => ({\n        ...e,\n        ...state[e.key]\n      }))\n  )\n}\n","import { ACTIONS as EXP_ACTIONS } from './experiments'\n\nexport const ACTIONS = {\n  SETTING_TOGGLE_STARTED: 'DESKTOP_SETTING_TOGGLE_STARTED',\n  SETTING_TOGGLE_FINISHED: 'DESKTOP_SETTING_TOGGLE_FINISHED',\n  SETTING_TOGGLE_FAILED: 'DESKTOP_SETTING_TOGGLE_FAILED'\n}\n\nlet bundle = {\n  name: 'ipfsDesktop',\n  reducer: (state = {}) => state,\n  selectIsIpfsDesktop: () => !!window.ipfsDesktop,\n  selectDesktopCountlyActions: () => ([])\n}\n\nif (window.ipfsDesktop) {\n  bundle = {\n    ...bundle,\n    reducer: (state = {}, action) => {\n      if (action.type === EXP_ACTIONS.EXP_TOGGLE_STARTED) {\n        window.ipfsDesktop.toggleSetting(`experiments.${action.payload.key}`)\n      }\n\n      if (!action.type.startsWith('DESKTOP_')) {\n        return state\n      }\n\n      if (action.type === 'DESKTOP_SETTINGS_CHANGED') {\n        return action.payload\n      }\n\n      return state\n    },\n\n    selectDesktopSettings: state => state.ipfsDesktop,\n\n    selectDesktopVersion: () => window.ipfsDesktop.version,\n\n    selectDesktopCountlyDeviceId: () => window.ipfsDesktop.countlyDeviceId,\n\n    selectDesktopCountlyActions: () => window.ipfsDesktop.countlyActions,\n\n    doDesktopStartListening: () => async ({ dispatch, store }) => {\n      window.ipfsDesktop.onConfigChanged(({ config, changed, success }) => {\n        const prevConfig = store.selectDesktopSettings()\n\n        if (Object.keys(prevConfig).length === 0) {\n          dispatch({\n            type: EXP_ACTIONS.EXP_UPDATE_STATE,\n            payload: Object.keys(config.experiments).reduce(\n              (all, key) => ({\n                ...all,\n                [key]: {\n                  enabled: config.experiments[key]\n                }\n              }),\n              {}\n            )\n          })\n        }\n\n        if (changed) {\n          const isExperiment = changed.startsWith('experiments.')\n          const key = isExperiment\n            ? changed.replace('experiments.', '')\n            : changed\n\n          const type = isExperiment\n            ? success\n              ? EXP_ACTIONS.EXP_TOGGLE_FINISHED\n              : EXP_ACTIONS.EXP_TOGGLE_FAILED\n            : success\n              ? ACTIONS.SETTING_TOGGLE_FINISHED\n              : ACTIONS.SETTING_TOGGLE_FAILED\n\n          const value = isExperiment\n            ? config.experiments[key]\n            : config[key]\n\n          dispatch({ type, payload: { key, value } })\n        }\n\n        dispatch({\n          type: 'DESKTOP_SETTINGS_CHANGED',\n          payload: config\n        })\n      })\n    },\n\n    doDesktopSettingsToggle: setting => ({ dispatch }) => {\n      dispatch({ type: ACTIONS.SETTING_TOGGLE_STARTED, payload: { key: setting } })\n      window.ipfsDesktop.toggleSetting(setting)\n    },\n\n    doDesktopIpfsConfigChanged: () => () => {\n      window.ipfsDesktop.configHasChanged()\n    },\n\n    doDesktopSelectDirectory: () => () => {\n      return window.ipfsDesktop.selectDirectory()\n    },\n\n    doDesktopAddConsent: consent => () => {\n      return window.ipfsDesktop.addConsent(consent)\n    },\n\n    doDesktopRemoveConsent: consent => () => {\n      return window.ipfsDesktop.removeConsent(consent)\n    },\n\n    init: store => {\n      store.doDesktopStartListening()\n    }\n  }\n}\n\nexport default bundle\n","import { createSelector } from 'redux-bundler'\nimport { ACTIONS as EXP_ACTIONS } from './experiments'\nimport { ACTIONS as FILES_ACTIONS } from './files'\nimport { ACTIONS as DESK_ACTIONS } from './ipfs-desktop'\n\n/*\n# Notify\n- show error when ipfs goes away.\n- show ok when it comes back.\n- dismiss the ok after 3s\n*/\n\nconst defaultState = {\n  show: false,\n  error: false,\n  eventId: null,\n  code: null\n}\n\nconst notify = {\n  name: 'notify',\n\n  reducer: (state = defaultState, action) => {\n    if (action.type === 'NOTIFY_DISMISSED') {\n      return { ...state, show: false }\n    }\n\n    if (action.type === 'STATS_FETCH_FAILED') {\n      return {\n        ...state,\n        show: true,\n        error: true,\n        eventId: action.type\n      }\n    }\n\n    if (action.type.match(/^FILES_\\w+_FAILED$/)) {\n      return {\n        ...state,\n        show: true,\n        error: true,\n        eventId: 'FILES_EVENT_FAILED',\n        code: action.payload.error.code\n      }\n    }\n\n    if (action.type === 'STATS_FETCH_FINISHED' && state.eventId === 'STATS_FETCH_FAILED') {\n      return {\n        ...state,\n        error: false,\n        eventId: 'STATS_FETCH_FINISHED',\n        lastSuccess: Date.now()\n      }\n    }\n\n    if (action.type === 'SWARM_CONNECT_FAILED' || action.type === 'SWARM_CONNECT_FINISHED') {\n      return {\n        ...state,\n        show: true,\n        error: action.type === 'SWARM_CONNECT_FAILED',\n        eventId: action.type\n      }\n    }\n\n    if (action.type === EXP_ACTIONS.EXP_TOGGLE_FAILED) {\n      return {\n        ...state,\n        show: true,\n        error: true,\n        eventId: `experimentsErrors.${action.payload.key}`\n      }\n    }\n\n    if (action.type === DESK_ACTIONS.SETTING_TOGGLE_FAILED) {\n      return {\n        ...state,\n        show: true,\n        error: true,\n        eventId: `desktopToggleErrors.${action.payload.key}`\n      }\n    }\n\n    return state\n  },\n\n  selectNotify: state => state.notify,\n\n  selectNotifyI18nKey: createSelector(\n    'selectNotify',\n    'selectIpfsProvider',\n    (notify, provider) => {\n      const { eventId, code } = notify\n\n      if (eventId === 'STATS_FETCH_FAILED') {\n        return provider === 'window.ipfs' ? 'windowIpfsRequestFailed' : 'ipfsApiRequestFailed'\n      }\n\n      if (eventId === 'FILES_EVENT_FAILED') {\n        const type = code ? code.replace(/^(ERR_)/, '') : ''\n\n        switch (type) {\n          case 'FOLDER_EXISTS':\n            return 'folderExists'\n          case FILES_ACTIONS.WRITE:\n          case FILES_ACTIONS.ADD_BY_PATH:\n          case 'API_RESPONSE':\n            return 'filesAddFailed'\n          case FILES_ACTIONS.FETCH:\n            return 'filesFetchFailed'\n          case FILES_ACTIONS.MOVE:\n            return 'filesRenameFailed'\n          case FILES_ACTIONS.MAKE_DIR:\n            return 'filesMakeDirFailed'\n          case FILES_ACTIONS.COPY:\n            return 'filesCopyFailed'\n          case FILES_ACTIONS.DELETE:\n            return 'filesDeleteFailed'\n          default:\n            return 'filesEventFailed'\n        }\n      }\n\n      if (eventId === 'STATS_FETCH_FINISHED') {\n        return 'ipfsIsBack'\n      }\n\n      if (eventId === 'SWARM_CONNECT_FAILED') {\n        return 'couldntConnectToPeer'\n      }\n\n      if (eventId === 'SWARM_CONNECT_FINISHED') {\n        return 'connectedToPeer'\n      }\n\n      return eventId\n    }\n  ),\n\n  doNotifyDismiss: () => ({ dispatch }) => dispatch({ type: 'NOTIFY_DISMISSED' }),\n\n  // Dismiss the \"all ok\" message after 3 seconds\n  reactNotifyOkDismiss: createSelector(\n    'selectAppTime',\n    'selectNotify',\n    (appTime, notify) => {\n      if (notify.eventId === 'STATS_FETCH_FINISHED' && notify.show && appTime - notify.lastSuccess > 3000) {\n        return { type: 'NOTIFY_DISMISSED' }\n      }\n    }\n  )\n}\n\nexport default notify\n","import { createSelector } from 'redux-bundler'\n\n// We ask for the stats every few seconds, so that gives a good indication\n// that ipfs things are working (or not), without additional polling of the api.\nconst connected = {\n  name: 'connected',\n\n  reducer: (state = {}, action) => {\n    if (action.type === 'STATS_FETCH_FAILED') {\n      return { lastError: Date.now() }\n    }\n    return state\n  },\n\n  selectConnectedLastError: state => state.connected.lastError,\n\n  selectIpfsConnected: createSelector(\n    'selectIpfsReady',\n    'selectNodeBandwidthLastSuccess',\n    'selectNodeBandwidthLastError',\n    (ipfsReady, lastSuccess, lastError) => ipfsReady && lastSuccess && lastSuccess > lastError\n  )\n}\n\nexport default connected\n","import { createSelector } from 'redux-bundler'\n\n// We ask for the stats every few seconds, so that gives a good indication\n// that ipfs things are working (or not), without additional polling of the api.\nconst retryInit = {\n  name: 'retryInit',\n\n  reducer: (state = {}, action) => {\n    if (action.type === 'IPFS_INIT_STARTED') {\n      return { ...state, startedAt: Date.now() }\n    }\n    if (action.type === 'IPFS_INIT_FAILED') {\n      return { ...state, failedAt: Date.now() }\n    }\n    return state\n  },\n\n  selectInitStartedAt: state => state.retryInit.startedAt,\n\n  selectInitFailedAt: state => state.retryInit.failedAt,\n\n  reactConnectionInitRetry: createSelector(\n    'selectAppTime',\n    'selectInitStartedAt',\n    'selectInitFailedAt',\n    (appTime, startedAt, failedAt) => {\n      if (!failedAt || failedAt < startedAt) return false\n      if (appTime - failedAt < 3000) return false\n      return { actionCreator: 'doInitIpfs' }\n    }\n  )\n}\n\nexport default retryInit\n","import { createAsyncResourceBundle, createSelector } from 'redux-bundler'\n\nconst bundle = createAsyncResourceBundle({\n  name: 'identity',\n  actionBaseType: 'IDENTITY',\n  getPromise: ({ getIpfs }) => getIpfs().id(),\n  staleAfter: Infinity,\n  persist: false,\n  checkIfOnline: false\n})\n\nbundle.selectIdentityLastSuccess = state => state.identity.lastSuccess\n\n// Update identity after we (re)connect with ipfs\nbundle.reactIdentityFetch = createSelector(\n  'selectIpfsConnected',\n  'selectIdentityIsLoading',\n  'selectIdentityLastSuccess',\n  'selectConnectedLastError',\n  (connected, isLoading, idLastSuccess, connLastError) => {\n    if (connected && !isLoading) {\n      if (!idLastSuccess || connLastError > idLastSuccess) {\n        return { actionCreator: 'doFetchIdentity' }\n      }\n    }\n  }\n)\n\nexport default bundle\n","import { getConfiguredCache } from 'money-clip'\n\nconst bundleCache = getConfiguredCache({\n  name: 'bundle-cache',\n  version: 1,\n  maxAge: Infinity\n})\n\nexport default bundleCache\n","import { createAsyncResourceBundle, createSelector } from 'redux-bundler'\n\nconst bundle = createAsyncResourceBundle({\n  name: 'repoStats',\n  getPromise: async ({ getIpfs }) => {\n    return getIpfs().repo.stat()\n  },\n  staleAfter: 60000,\n  persist: false,\n  checkIfOnline: false\n})\n\nbundle.selectRepoSize = createSelector(\n  'selectRepoStats',\n  (repoStats) => {\n    if (repoStats && repoStats.repoSize) {\n      return repoStats.repoSize.toString()\n    }\n  }\n)\n\nbundle.selectRepoNumObjects = createSelector(\n  'selectRepoStats',\n  (repoStats) => {\n    if (repoStats && repoStats.numObjects) {\n      return repoStats.numObjects.toString()\n    }\n  }\n)\n\n// Fetch the config if we don't have it or it's more than `staleAfter` ms old\nbundle.reactRepoStatsFetch = createSelector(\n  'selectRepoStatsShouldUpdate',\n  'selectIpfsReady',\n  (shouldUpdate, ipfsReady) => {\n    if (shouldUpdate && ipfsReady) {\n      return { actionCreator: 'doFetchRepoStats' }\n    }\n  }\n)\n\nexport default bundle\n","import root from 'window-or-global'\nimport changeCase from 'change-case'\nimport { createSelector } from 'redux-bundler'\n\n// Only record specific actions listed here.\nconst ASYNC_ACTIONS_TO_RECORD = [\n  'IPFS_INIT',\n  'CONFIG_SAVE',\n  'FILES_MAKEDIR',\n  'FILES_WRITE',\n  'FILES_ADDBYPATH',\n  'FILES_MOVE',\n  'FILES_DELETE',\n  'FILES_DOWNLOADLINK',\n  'EXPERIMENTS_TOGGLE',\n  'DESKTOP_SETTING_TOGGLE'\n]\n\nconst ASYNC_ACTION_RE = new RegExp(`^${ASYNC_ACTIONS_TO_RECORD.join('_|')}`)\nconst ASYNC_ACTION_STATE_RE = /^(.+)_(STARTED|FINISHED|FAILED)$/\n\nconst COUNTLY_KEY_WEBUI = '8fa213e6049bff23b08e5f5fbac89e7c27397612'\nconst COUNTLY_KEY_WEBUI_TEST = '700fd825c3b257e021bd9dbc6cbf044d33477531'\n\nfunction pickAppKey () {\n  const isProd = process.env.NODE_ENV === 'production'\n\n  if (root.ipfsDesktop && root.ipfsDesktop.countlyAppKey) {\n    return root.ipfsDesktop.countlyAppKey\n  } else {\n    return isProd ? COUNTLY_KEY_WEBUI : COUNTLY_KEY_WEBUI_TEST\n  }\n}\n\nconst consentGroups = {\n  all: ['sessions', 'events', 'views', 'location', 'crashes'],\n  safe: ['sessions', 'events', 'views', 'location']\n}\n\nfunction addConsent (consent, store) {\n  root.Countly.q.push(['add_consent', consent])\n\n  if (store.selectIsIpfsDesktop()) {\n    store.doDesktopAddConsent(consent)\n  }\n}\n\nfunction removeConsent (consent, store) {\n  root.Countly.q.push(['remove_consent', consent])\n\n  if (store.selectIsIpfsDesktop()) {\n    store.doDesktopRemoveConsent(consent)\n  }\n}\n\nconst createAnalyticsBundle = ({\n  countlyUrl = 'https://countly.ipfs.io',\n  countlyAppKey = pickAppKey(),\n  appVersion = process.env.REACT_APP_VERSION,\n  appGitRevision = process.env.REACT_APP_GIT_REV,\n  debug = false\n}) => {\n  return {\n    name: 'analytics',\n\n    persistActions: ['ANALYTICS_ENABLED', 'ANALYTICS_DISABLED', 'ANALYTICS_ADD_CONSENT', 'ANALYTICS_REMOVE_CONSENT'],\n\n    init: async (store) => {\n      // test code sets a mock Counly instance on the global.\n      if (!root.Countly) {\n        root.Countly = {}\n        root.Countly.q = []\n        await import('countly-sdk-web')\n      }\n      const Countly = root.Countly\n\n      Countly.require_consent = true\n      Countly.url = countlyUrl\n      Countly.app_key = countlyAppKey\n      Countly.app_version = appVersion\n      Countly.debug = debug\n\n      if (store.selectIsIpfsDesktop()) {\n        Countly.app_version = store.selectDesktopVersion()\n        Countly.q.push(['change_id', store.selectDesktopCountlyDeviceId(), true])\n      }\n\n      // Configure what to track. Nothing is sent without user consent.\n      Countly.q.push(['track_sessions'])\n      Countly.q.push(['track_errors'])\n\n      // Don't track clicks or links as it can include full url.\n      // Countly.q.push(['track_clicks'])\n      // Countly.q.push(['track_links'])\n\n      if (store.selectAnalyticsEnabled()) {\n        const consent = store.selectAnalyticsConsent()\n        addConsent(consent, store)\n      }\n\n      store.subscribeToSelectors(['selectRouteInfo'], ({ routeInfo }) => {\n        // skip routes with no hash, as we'll be immediately redirected to `/#`\n        if (!root.location || !root.location.hash) return\n        /*\n        By tracking the pattern rather than the window.location, we limit the info\n        we collect to just the app sections that are viewed, and avoid recording\n        specific CIDs or local repo paths that would contain personal information.\n        */\n        root.Countly.q.push(['track_pageview', routeInfo.pattern])\n      })\n\n      Countly.init()\n    },\n\n    // Listen to redux actions\n    getMiddleware: () => (store) => {\n      const EventMap = new Map()\n      return next => action => {\n        // Record durations for async actions\n        if (ASYNC_ACTION_RE.test(action.type) && ASYNC_ACTION_STATE_RE.test(action.type)) {\n          const [_, name, state] = ASYNC_ACTION_STATE_RE.exec(action.type) // eslint-disable-line no-unused-vars\n          if (state === 'STARTED') {\n            EventMap.set(name, root.performance.now())\n          } else {\n            const start = EventMap.get(name)\n            if (!start) {\n              EventMap.delete(name)\n            } else {\n              const durationInSeconds = (root.performance.now() - start) / 1000\n              let key = state === 'FAILED' ? action.type : name\n\n              // Costum code for experiments toggle and desktop settings toggle.\n              // This way we can detect if we're enabling or disabling an option.\n              if (name === 'EXPERIMENTS_TOGGLE' || name === 'DESKTOP_SETTING_TOGGLE') {\n                key = name === 'EXPERIMENTS_TOGGLE'\n                  ? 'EXPERIMENTS_'\n                  : 'DESKTOP_SETTING_'\n\n                key += changeCase.constantCase(action.payload.key)\n\n                if (state === 'FAILED') {\n                  key += '_FAILED'\n                } else {\n                  key += action.payload.value\n                    ? '_ENABLED'\n                    : '_DISABLED'\n                }\n              }\n\n              root.Countly.q.push(['add_event', {\n                key: key,\n                count: 1,\n                dur: durationInSeconds\n              }])\n            }\n          }\n\n          // Record errors. Only from explicitly selected actions.\n          const error = action.error || (action.payload && action.payload.error)\n          if (error) {\n            root.Countly.q.push(['add_log', action.type])\n            root.Countly.q.push(['log_error', error])\n          }\n        }\n        // We're middleware. Don't forget to pass control back to the next.\n        return next(action)\n      }\n    },\n\n    reducer: (state = {\n      lastEnabledAt: 0,\n      lastDisabledAt: 0,\n      consent: []\n    }, action) => {\n      if (action.type === 'ANALYTICS_ENABLED') {\n        return { ...state, lastEnabledAt: Date.now(), consent: action.payload.consent }\n      }\n      if (action.type === 'ANALYTICS_DISABLED') {\n        return { ...state, lastDisabledAt: Date.now(), consent: action.payload.consent }\n      }\n      if (action.type === 'ANALYTICS_ADD_CONSENT') {\n        const consent = state.consent.filter(item => item !== action.payload.name).concat(action.payload.name)\n        return { ...state, lastEnabledAt: Date.now(), consent }\n      }\n      if (action.type === 'ANALYTICS_REMOVE_CONSENT') {\n        const consent = state.consent.filter(item => item !== action.payload.name)\n        const lastDisabledAt = (consent.length === 0) ? Date.now() : state.lastDisabledAt\n        return { ...state, lastDisabledAt, consent }\n      }\n\n      // deal with missing consent state from 2.4.0 release.\n      if (!state.consent) {\n        if (state.lastEnabledAt > state.lastDisabledAt) {\n          return { ...state, consent: consentGroups.safe }\n        } else {\n          return { ...state, consent: [] }\n        }\n      }\n\n      return state\n    },\n\n    selectAnalytics: (state) => state.analytics,\n\n    selectAnalyticsConsent: (state) => state.analytics.consent,\n\n    selectAnalyticsEnabled: (state) => state.analytics.consent.length > 0,\n\n    /*\n      Ask the user if we may enable analytics.\n    */\n    selectAnalyticsAskToEnable: (state) => {\n      const { lastEnabledAt, lastDisabledAt, consent } = state.analytics\n      // user has not explicitly chosen\n      if (!lastEnabledAt && !lastDisabledAt && consent.length === 0) {\n        // ask to enable.\n        return true\n      }\n      // user has already made an explicit choice; dont ask again.\n      return false\n    },\n\n    selectAnalyticsActionsToRecord: createSelector(\n      'selectIsIpfsDesktop',\n      'selectDesktopCountlyActions',\n      (isDesktop, desktopActions) => {\n        return isDesktop\n          ? desktopActions.concat(ASYNC_ACTIONS_TO_RECORD).sort()\n          : Array.from(ASYNC_ACTIONS_TO_RECORD).sort()\n      }\n    ),\n\n    doToggleAnalytics: () => ({ dispatch, store }) => {\n      const enable = !store.selectAnalyticsEnabled()\n      if (enable) {\n        store.doEnableAnalytics()\n      } else {\n        store.doDisableAnalytics()\n      }\n    },\n\n    doDisableAnalytics: () => ({ dispatch, store }) => {\n      removeConsent(consentGroups.all, store)\n      dispatch({ type: 'ANALYTICS_DISABLED', payload: { consent: [] } })\n    },\n\n    doEnableAnalytics: () => ({ dispatch, store }) => {\n      removeConsent(consentGroups.all, store)\n      addConsent(consentGroups.safe, store)\n      dispatch({ type: 'ANALYTICS_ENABLED', payload: { consent: consentGroups.safe } })\n    },\n\n    doToggleConsent: (name) => ({ dispatch, store }) => {\n      const isEnabled = store.selectAnalyticsConsent().includes(name)\n      if (isEnabled) {\n        store.doRemoveConsent(name)\n      } else {\n        store.doAddConsent(name)\n      }\n    },\n\n    doRemoveConsent: (name) => ({ dispatch, store }) => {\n      removeConsent(name, store)\n      dispatch({ type: 'ANALYTICS_REMOVE_CONSENT', payload: { name } })\n    },\n\n    doAddConsent: (name) => ({ dispatch, store }) => {\n      addConsent(name, store)\n      dispatch({ type: 'ANALYTICS_ADD_CONSENT', payload: { name } })\n    }\n  }\n}\n\nexport default createAnalyticsBundle\n","import { composeBundles, createCacheBundle } from 'redux-bundler'\nimport ipfsBundle from 'ipfs-redux-bundle'\nimport { exploreBundle } from 'ipld-explorer-components'\nimport appIdle from './app-idle'\nimport nodeBandwidthChartBundle from './node-bandwidth-chart'\nimport nodeBandwidthBundle from './node-bandwidth'\nimport peersBundle from './peers'\nimport peerLocationsBundle from './peer-locations'\nimport routesBundle from './routes'\nimport redirectsBundle from './redirects'\nimport filesBundle from './files'\nimport configBundle from './config'\nimport configSaveBundle from './config-save'\nimport navbarBundle from './navbar'\nimport toursBundle from './tours'\nimport notifyBundle from './notify'\nimport connectedBundle from './connected'\nimport retryInitBundle from './retry-init'\nimport identityBundle from './identity'\nimport bundleCache from '../lib/bundle-cache'\nimport ipfsDesktop from './ipfs-desktop'\nimport repoStats from './repo-stats'\nimport createAnalyticsBundle from './analytics'\nimport experimentsBundle from './experiments'\n\nexport default composeBundles(\n  createCacheBundle({\n    cacheFn: bundleCache.set\n  }),\n  appIdle({ idleTimeout: 5000 }),\n  ipfsBundle({\n    tryWindow: false,\n    ipfsConnectionTest: async (ipfs) => {\n      // ipfs connection is working if can we fetch the bw stats.\n      // See: https://github.com/ipfs-shipyard/ipfs-webui/issues/835#issuecomment-466966884\n      try {\n        await ipfs.stats.bw()\n      } catch (err) {\n        if (!/bandwidth reporter disabled in config/.test(err)) {\n          throw err\n        }\n      }\n\n      return true\n    }\n  }),\n  identityBundle,\n  navbarBundle,\n  routesBundle,\n  redirectsBundle,\n  toursBundle,\n  filesBundle(),\n  exploreBundle(),\n  configBundle,\n  configSaveBundle,\n  nodeBandwidthBundle,\n  nodeBandwidthChartBundle(),\n  peersBundle,\n  peerLocationsBundle(),\n  notifyBundle,\n  connectedBundle,\n  retryInitBundle,\n  experimentsBundle,\n  ipfsDesktop,\n  repoStats,\n  createAnalyticsBundle({})\n)\n","import { getFilesFromDataTransferItems } from 'datatransfer-files-promise'\nimport HTML5Backend from 'react-dnd-html5-backend'\n\n// If you drop a dir \"foo\" which contains \"cat.jpg\" & \"dog.png\" we receive a\n// single item in the `event.dataTransfer.items` for the directory.\n//\n// We use 'datatransfer-files-promise' to map the dir tree to a flat list of\n// FileSystemEntry objects, each with a filepath propety, that captures the\n// files relative path within the dir that was dropped.\n//\n// so the \"foo\" becomes:\n// [\n//  { filepath: 'foo/cat.jpg' name: 'cat.jpg', size: Number },\n//  { filepath: 'foo/dog.png' name: 'dog.png', size: Number }\n// ]\n//\n// Which is a useful shape for passing to ipfs.add, with the caveat that each\n// FileSystemEntry object must be passed to pull-file-reader or similar to\n// convert to a stream style that ipfs.add accepts.\n//\n// ReactDnD doesn't give the calling code access to the `event.dataTransfer.items`\n// so we have to work around it here by plugin a custom drop handler that does\n// the work to map from a dir entry to a flat list of files and then stash it on\n//  a custom `filesPromise` prop on the return object, which we check for in our\n//  dropTarget drop handler functions.\n//\n// See: https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItem/webkitGetAsEntry\n// See: https://github.com/grabantot/datatransfer-files-promise/blob/72b6cc763f9b400c59197bcc787268965310c260/index.js\nexport default (manager) => {\n  const backend = HTML5Backend(manager)\n  const handler = backend.handleTopDropCapture\n  backend.handleTopDropCapture = (event) => {\n    handler.call(backend, event)\n    if (backend.currentNativeSource) {\n      const filesPromise = getFilesFromDataTransferItems(event.dataTransfer.items)\n      backend.currentNativeSource.item.filesPromise = filesPromise\n    }\n  }\n  return backend\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'redux-bundler-react'\nimport './index.css'\nimport 'react-virtualized/styles.css'\nimport App from './App'\nimport getStore from './bundles'\nimport bundleCache from './lib/bundle-cache'\nimport { I18nextProvider } from 'react-i18next'\nimport i18n from './i18n'\nimport { DndProvider } from 'react-dnd'\nimport DndBackend from './lib/dnd-backend'\n\nconst appVersion = process.env.REACT_APP_VERSION\nconst gitRevision = process.env.REACT_APP_GIT_REV\n\nconsole.log(`IPFS Web UI - v${appVersion} - https://github.com/ipfs-shipyard/ipfs-webui/commit/${gitRevision}`)\n\nasync function render () {\n  const initialData = await bundleCache.getAll()\n  if (initialData && process.env.NODE_ENV !== 'production') {\n    console.log('intialising store with data from cache', initialData)\n  }\n  const store = getStore(initialData)\n  ReactDOM.render(\n    <Provider store={store}>\n      <I18nextProvider i18n={i18n} >\n        <DndProvider backend={DndBackend}>\n          <App />\n        </DndProvider>\n      </I18nextProvider>\n    </Provider>,\n    document.getElementById('root')\n  )\n}\n\nrender()\n","import fileReader from 'pull-file-reader'\nimport CID from 'cids'\n\nexport async function filesToStreams (files) {\n  const streams = []\n\n  for (const file of files) {\n    const stream = fileReader(file)\n\n    streams.push({\n      path: file.filepath || file.webkitRelativePath || file.name,\n      content: stream,\n      size: file.size\n    })\n  }\n\n  return streams\n}\n\nasync function downloadSingle (file, gatewayUrl, apiUrl) {\n  let url, filename\n\n  if (file.type === 'directory') {\n    url = `${apiUrl}/api/v0/get?arg=${file.hash}&archive=true&compress=true`\n    filename = `${file.name}.tar.gz`\n  } else {\n    url = `${gatewayUrl}/ipfs/${file.hash}`\n    filename = file.name\n  }\n\n  return { url, filename }\n}\n\nexport async function makeHashFromFiles (files, ipfs) {\n  let cid = await ipfs.object.new('unixfs-dir')\n\n  for (const file of files) {\n    cid = await ipfs.object.patch.addLink(cid.multihash, {\n      name: file.name,\n      size: file.size,\n      cid: new CID(file.hash)\n    })\n  }\n\n  return cid.toString()\n}\n\nasync function downloadMultiple (files, apiUrl, ipfs) {\n  if (!apiUrl) {\n    const e = new Error('api url undefined')\n    return Promise.reject(e)\n  }\n\n  const multihash = await makeHashFromFiles(files, ipfs)\n\n  return {\n    url: `${apiUrl}/api/v0/get?arg=${multihash}&archive=true&compress=true`,\n    filename: `download_${multihash}.tar.gz`\n  }\n}\n\nexport async function getDownloadLink (files, gatewayUrl, apiUrl, ipfs) {\n  if (files.length === 1) {\n    return downloadSingle(files[0], gatewayUrl, apiUrl)\n  }\n\n  return downloadMultiple(files, apiUrl, ipfs)\n}\n\nexport async function getShareableLink (files, ipfs) {\n  let hash\n  let filename\n\n  if (files.length === 1) {\n    hash = files[0].hash\n    if (files[0].type === 'file') {\n      filename = `?filename=${encodeURIComponent(files[0].name)}`\n    }\n  } else {\n    hash = await makeHashFromFiles(files, ipfs)\n  }\n\n  return `https://ipfs.io/ipfs/${hash}${filename || ''}`\n}\n","import React from 'react'\nimport ErrorIcon from '../../icons/GlyphSmallCancel'\nimport root from 'window-or-global'\n\nclass ErrorBoundary extends React.Component {\n  state = {\n    hasError: false\n  }\n\n  static defaultProps = {\n    fallback: ErrorIcon\n  }\n\n  componentDidCatch (error, info) {\n    this.setState({ hasError: true })\n    console.log(error)\n    if (root && root.Countly) {\n      root.Countly.q.push(['log_error'], error)\n    }\n  }\n\n  render () {\n    const { hasError } = this.state\n    const { children, fallback: Fallback } = this.props\n    return hasError ? <Fallback /> : children\n  }\n}\n\nexport default ErrorBoundary\n","import React from 'react'\nimport ErrorBoundary from '../error/ErrorBoundary'\n\nexport const Box = ({\n  className = 'pa4',\n  style,\n  children,\n  ...props\n}) => {\n  return (\n    <section className={className} style={{ background: '#fbfbfb', ...style }}>\n      <ErrorBoundary>\n        {children}\n      </ErrorBoundary>\n    </section>\n  )\n}\n\nexport default Box\n","import React from 'react'\n\nconst StrokeIpld = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M87.589 44.265c0-1.157-.45-2.245-1.27-3.062a4.304 4.304 0 0 0-3.062-1.269 4.304 4.304 0 0 0-3.062 1.269 4.337 4.337 0 0 0 0 6.125c.602.602 1.35 1 2.164 1.172v2.442l-14.686 9.276v-19.79l4.498-2.842v-3.717a4.27 4.27 0 0 0 1.827-1.067 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.27 3.063c0 1.157.45 2.245 1.27 3.062a4.282 4.282 0 0 0 1.963 1.107V36.3L51.11 48.128v-8.901l9.304-5.877v-7.051a4.282 4.282 0 0 0 1.986-1.114 4.336 4.336 0 0 0-.001-6.125 4.337 4.337 0 0 0-6.125 0h-.001a4.337 4.337 0 0 0 0 6.125c.52.519 1.145.859 1.804 1.059v5.818l-6.967 4.401V15.062a4.283 4.283 0 0 0 2.008-1.12 4.337 4.337 0 0 0-.001-6.126 4.337 4.337 0 0 0-6.125 0h-.001a4.337 4.337 0 0 0 0 6.126 4.273 4.273 0 0 0 1.783 1.053v15.881l-7.23-4.566v-3.436a4.292 4.292 0 0 0 2.009-1.12 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.27 3.063c0 1.157.45 2.245 1.27 3.062a4.276 4.276 0 0 0 1.78 1.053v4.79l9.566 6.042v21.108l-7.708-4.226v-7.809a4.275 4.275 0 0 0 2.034-1.128 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.27 3.063c0 1.157.45 2.245 1.27 3.062a4.284 4.284 0 0 0 1.756 1.046v6.61l-11.705-6.417v-6.217a4.28 4.28 0 0 0 1.984-1.117 4.3 4.3 0 0 0 1.27-3.063c0-1.157-.45-2.245-1.27-3.062a4.336 4.336 0 0 0-6.125 0 4.337 4.337 0 0 0 0 6.125c.51.51 1.132.858 1.804 1.062v7.621l3.646 2.004v13.632l-10.582-5.77V51.62a4.29 4.29 0 0 0 2.05-1.133 4.337 4.337 0 0 0 0-6.125 4.304 4.304 0 0 0-3.061-1.269 4.304 4.304 0 0 0-3.063 1.269 4.337 4.337 0 0 0 0 6.125 4.285 4.285 0 0 0 1.738 1.041v3.812l33.359 18.269v11.397a4.277 4.277 0 0 0-1.783 1.053 4.337 4.337 0 0 0 0 6.125 4.32 4.32 0 0 0 3.063 1.266 4.316 4.316 0 0 0 3.063-1.267 4.337 4.337 0 0 0 0-6.125 4.29 4.29 0 0 0-2.008-1.119V73.444l33.585-21.216v-3.892a4.29 4.29 0 0 0 1.625-1.008 4.3 4.3 0 0 0 1.269-3.063zM30.46 60.969V47.345l18.314 10.066v13.542zm34.876-19.065v19.79L51.11 70.68V50.89zm3.067-12.164c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.58 0 2.516 2.516 0 0 1-.741-1.791zm-10.857-9.407a2.534 2.534 0 0 1 3.58 0 2.534 2.534 0 0 1 0 3.58 2.534 2.534 0 0 1-3.58 0 2.534 2.534 0 0 1 0-3.58zM48.264 9.09a2.536 2.536 0 0 1 3.58 0c.988.987.988 2.593.002 3.58a2.536 2.536 0 0 1-3.581 0 2.535 2.535 0 0 1-.001-3.58zm-10.305 9.601c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.58 0 2.52 2.52 0 0 1-.741-1.791zm-.453 19.832c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.58 0 2.525 2.525 0 0 1-.741-1.791zm-13.348-7.887a2.524 2.524 0 0 1 1.789-.74 2.526 2.526 0 0 1 2.532 2.531c0 .677-.264 1.312-.742 1.79-.422.422-.984.647-1.562.696h-.456c-.577-.049-1.14-.274-1.561-.696a2.534 2.534 0 0 1 0-3.581zM14.95 45.635a2.514 2.514 0 0 1 1.79-.742 2.534 2.534 0 0 1 1.789 4.322 2.533 2.533 0 0 1-3.58 0 2.533 2.533 0 0 1 0-3.58zm36.894 45.277a2.534 2.534 0 0 1-3.58 0 2.534 2.534 0 0 1 0-3.58 2.536 2.536 0 0 1 3.58 0 2.534 2.534 0 0 1 0 3.58zm33.202-44.857c-.955.955-2.624.957-3.58 0a2.534 2.534 0 0 1 1.79-4.322c.677 0 1.312.264 1.79.742.479.478.742 1.113.742 1.79s-.263 1.311-.742 1.79z' />\n  </svg>\n)\n\nexport default StrokeIpld\n","import React from 'react'\nimport './Button.css'\n\nconst Button = ({ bg = 'bg-aqua', color = 'white', fill = 'white', className = '', disabled, danger, minWidth = 140, children, style, ...props }) => {\n  const bgClass = danger ? 'bg-red' : disabled ? 'bg-gray-muted' : bg\n  const fillClass = danger ? 'fill-white' : disabled ? 'fill-snow' : fill\n  const colorClass = danger ? 'white' : disabled ? 'light-gray' : color\n  const cls = `Button transition-all sans-serif dib v-mid fw5 nowrap lh-copy bn br1 pa2 pointer focus-outline ${fillClass} ${bgClass} ${colorClass} ${className}`\n  return (\n    <button className={cls} disabled={disabled} style={{ minWidth, ...style }} {...props}>\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Tick from '../../icons/GlyphSmallTick'\nimport './Checkbox.css'\n\nconst Checkbox = ({ className, label, disabled, checked, onChange, ...props }) => {\n  className = `Checkbox dib sans-serif ${className}`\n  if (!disabled) {\n    className += ' pointer'\n  }\n\n  const change = (event) => {\n    onChange(event.target.checked)\n  }\n\n  return (\n    <label className={className} {...props}>\n      <input className='absolute' type='checkbox' checked={checked} disabled={disabled} onChange={change} />\n      <span className='dib v-mid br1 w1 h1 pointer'>\n        <Tick className='w1 h1 o-0 fill-aqua' viewBox='25 25 50 50' />\n      </span>\n      <span className='v-mid pl2'>\n        {label}\n      </span>\n    </label>\n  )\n}\n\nCheckbox.propTypes = {\n  className: PropTypes.string,\n  label: PropTypes.node,\n  disabled: PropTypes.bool,\n  checked: PropTypes.bool,\n  onChange: PropTypes.func\n}\n\nCheckbox.defaultProps = {\n  className: '',\n  label: '',\n  disabled: false,\n  checked: null,\n  onChange: () => {}\n}\n\nexport default Checkbox\n","import React from 'react'\n\nexport const appTour = {\n  getSteps: ({ t }) => [{\n    content: <div className='montserrat white'>\n      <p className='ma0 pa0 tl f6'>{t('tourTooltip')}</p>\n    </div>,\n    placement: 'left',\n    target: '.joyride-app-tour',\n    disableBeacon: true\n  }],\n  styles: {\n    tooltipContent: { padding: '0 20px 0 0' },\n    tooltipFooter: { display: 'none' },\n    options: {\n      width: '250px',\n      backgroundColor: 'rgba(105, 196, 205, 0.85)',\n      arrowColor: 'rgba(105, 196, 205, 0.85)',\n      textColor: '#fff',\n      zIndex: 999\n    }\n  }\n}\n\nexport const statusTour = {\n  getSteps: ({ t, Trans }) => [\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step1.title')}</h2>\n        <p className='tl f6'>{t('tour.step1.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step1.paragraph2')}</p>\n      </div>,\n      placement: 'center',\n      target: 'body'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step2.title')}</h2>\n        <p className='tl f6'>{t('tour.step2.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step2.paragraph2')}</p>\n      </div>,\n      placement: 'left',\n      target: '.joyride-app-status'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step3.title')}</h2>\n        <p className='tl f6'>{t('tour.step3.paragraph1')}</p>\n        <Trans i18nKey='tour.step3.paragraph2'>\n          <p className='tl f6'>Click on <code>Advanced</code> to see more info such as the gateway URL and addresses.</p>\n        </Trans>\n      </div>,\n      placement: 'bottom',\n      target: '.joyride-status-node'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step4.title')}</h2>\n        <p className='tl f6'>{t('tour.step4.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step4.paragraph2')}</p>\n      </div>,\n      placement: 'top',\n      target: '.joyride-status-charts'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.stepExplore.title')}</h2>\n        <p className='tl f6'>{t('tour.stepExplore.paragraph')}</p>\n      </div>,\n      locale: { last: 'Finish' },\n      placement: 'right',\n      target: '.joyride-app-explore'\n    }\n  ],\n  styles: {\n    options: {\n      width: '500px',\n      primaryColor: '#69c4cd',\n      textColor: '#34373f',\n      zIndex: 999\n    }\n  }\n}\n\nexport const filesTour = {\n  getSteps: ({ t, Trans }) => [\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step1.title')}</h2>\n        <Trans i18nKey='tour.step1.paragraph1'>\n          <p className='tl f6'>\n            This is where the files on your <a className='aqua link' href='https://docs.ipfs.io/guides/concepts/mfs/' rel='noopener noreferrer' target='_blank'>\n            Mutable File System (MFS)</a> live. You can add files or folders and manage them from this page.\n          </p>\n        </Trans>\n        <p className='tl f6'>{t('tour.step1.paragraph2')}</p>\n      </div>,\n      placement: 'center',\n      target: 'body'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step2.title')}</h2>\n        <p className='tl f6'>{t('tour.step2.paragraph1')}</p>\n      </div>,\n      placement: 'bottom',\n      target: '.joyride-files-breadcrumbs'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step3.title')}</h2>\n        <p className='tl f6'>{t('tour.step3.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step3.paragraph2')}</p>\n        <Trans i18nKey='tour.step3.paragraph3'>\n          <p className='tl f6'>\n            If you want to add something that is already on IPFS, you can import it to your MFS by passing its <a className='aqua link' href='https://docs.ipfs.io/guides/concepts/cid/' rel='noopener noreferrer' target='_blank'>Content\n            Identifier (CID)</a>.\n          </p>\n        </Trans>\n      </div>,\n      placement: 'bottom',\n      target: '.joyride-files-add'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step5.title')}</h2>\n        <p className='tl f6'>{t('tour.step5.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step5.paragraph2')}</p>\n        <p className='tl f6'>{t('tour.step5.paragraph3')}</p>\n      </div>,\n      locale: { last: 'Finish' },\n      placement: 'center',\n      target: 'body'\n    }\n  ],\n  styles: {\n    options: {\n      width: '500px',\n      primaryColor: '#69c4cd',\n      textColor: '#34373f',\n      zIndex: 999\n    }\n  }\n}\n\nexport const peersTour = {\n  getSteps: ({ t }) => [\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step1.title')}</h2>\n        <p className='tl f6'>{t('tour.step1.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step1.paragraph2')}</p>\n      </div>,\n      placement: 'center',\n      target: 'body'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step2.title')}</h2>\n        <p className='tl f6'>{t('tour.step2.paragraph1')}</p>\n      </div>,\n      placement: 'bottom',\n      target: '.joyride-peers-map'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step3.title')}</h2>\n        <p className='tl f6'>{t('tour.step3.paragraph1')}</p>\n      </div>,\n      locale: { last: 'Finish' },\n      placement: 'top',\n      target: '.joyride-peers-table'\n    }\n  ],\n  styles: {\n    options: {\n      width: '500px',\n      primaryColor: '#69c4cd',\n      textColor: '#34373f',\n      zIndex: 999\n    }\n  }\n}\n\nexport const settingsTour = {\n  getSteps: ({ t, Trans }) => [\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step1.title')}</h2>\n        <p className='tl f6'>{t('tour.step1.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step1.paragraph2')}</p>\n      </div>,\n      placement: 'center',\n      target: 'body'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step2.title')}</h2>\n        <Trans i18nKey='tour.step2.paragraph1'>\n          <p className='tl f6'>You can change the language of the Web UI.\n          If your preferred language isn't available, head over our project page in <a className='aqua link' href='https://www.transifex.com/ipfs/ipfs-webui/translate/' rel='noopener noreferrer' target='_blank'>Transifex</a> to help us translate!\n          </p>\n        </Trans>\n      </div>,\n      placement: 'bottom',\n      target: '.joyride-settings-language'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step3.title')}</h2>\n        <p className='tl f6'>{t('tour.step3.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step3.paragraph2')}</p>\n      </div>,\n      placement: 'bottom',\n      target: '.joyride-settings-analytics'\n    },\n    {\n      content: <div className='montserrat charcoal'>\n        <h2 className='f3 fw4'>{t('tour.step4.title')}</h2>\n        <p className='tl f6'>{t('tour.step4.paragraph1')}</p>\n        <p className='tl f6'>{t('tour.step4.paragraph2')}</p>\n      </div>,\n      locale: { last: 'Finish' },\n      placement: 'top',\n      target: '.joyride-settings-config'\n    }\n  ],\n  styles: {\n    options: {\n      width: '500px',\n      primaryColor: '#69c4cd',\n      textColor: '#34373f',\n      zIndex: 999\n    }\n  }\n}\n","/**\n * Natural sort comparator for strings.\n *\n * @param {Number} dir - sorting direction, 1 for ascending or -1 for descending\n * @param {Object} opts - localeCompare options (https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare)\n */\nexport function sortByName (dir = 1, opts = { numeric: true, sensitivity: 'base' }) {\n  return (a, b) => a.localeCompare(b, undefined, opts) * dir\n}\n\n/**\n * Numerical sort comparator.\n *\n * @param {Number} dir - sorting direction, 1 for ascending or -1 for descending\n */\nexport function sortBySize (dir = 1) {\n  return (a, b) => (a - b) * dir\n}\n\n/**\n * Object sorting by property\n *\n * @param {*} property - object property to sort by\n * @param {*} dir - sorting direction, 1 for ascending or -1 for descending\n */\nexport function sortByProperty (property, dir = 1) {\n  return ({ [property]: a }, { [property]: b }) => (a == null) - (b == null) || dir * +(a > b) || dir * -(a < b)\n}\n","import React from 'react'\n\nconst GlyphSmallCancel = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M63.79 63.2l-3.88 3.88-9.71-9.7-9.7 9.7-3.88-3.88 9.7-9.71-9.7-9.7 3.88-3.88 9.7 9.7 9.71-9.7 3.88 3.88-9.7 9.7 9.7 9.71z' />\n  </svg>\n)\n\nexport default GlyphSmallCancel\n","import React from 'react'\n\nexport default ({ props, children }) => (\n  <h2 className='ttu tracked f6 fw4 aqua mt0 mb3' {...props}>{ children }</h2>\n)\n","import React from 'react'\n\nconst StrokeFolder = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M72.53 32.38H55.08a3.76 3.76 0 0 1-3.44-2.25l-2.28-4.83a6 6 0 0 0-5.57-3.8H31.47c-6.37 0-11.56 5.5-11.56 12.18v32.64c0 6.68 5.19 12.18 11.56 12.18h41.06c6.37 0 11.56-5.46 11.56-12.18V44.56c0-6.72-5.19-12.18-11.56-12.18zM31.47 24.1h12.32A3.45 3.45 0 0 1 47 26.35l2.34 4.95a6.33 6.33 0 0 0 5.74 3.7h17.45a9.22 9.22 0 0 1 8.9 8.5H22.51v-9.8c0-5.3 4.02-9.6 8.96-9.6zm41.06 51.8H31.47c-4.94 0-9-4.3-9-9.58V45h59v21.32c.02 5.28-4 9.58-8.94 9.58z' />\n  </svg>\n)\n\nexport default StrokeFolder\n","import i18n from 'i18next'\nimport ICU from 'i18next-icu'\nimport XHR from 'i18next-xhr-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\nimport cs from 'i18next-icu/locale-data/cs'\nimport da from 'i18next-icu/locale-data/da'\nimport de from 'i18next-icu/locale-data/de'\nimport en from 'i18next-icu/locale-data/en'\nimport es from 'i18next-icu/locale-data/es'\nimport fr from 'i18next-icu/locale-data/fr'\nimport ko from 'i18next-icu/locale-data/ko'\nimport nl from 'i18next-icu/locale-data/nl'\nimport no from 'i18next-icu/locale-data/no'\nimport pl from 'i18next-icu/locale-data/pl'\nimport pt from 'i18next-icu/locale-data/pt'\nimport sv from 'i18next-icu/locale-data/sv'\nimport zh from 'i18next-icu/locale-data/zh'\n\nconst localeData = [cs, da, de, en, es, fr, ko, nl, no, pl, pt, sv, zh]\n\nexport const localesList =\n  // add here the language variants\n  ['ko-KR', 'zh-CN', 'zh-TW']\n    .concat(localeData.map((locale) => locale[0].locale))\n    // add here languages you want to exclude\n    .filter(item => !['ko', 'zh'].includes(item))\n    .sort()\n\ni18n\n  .use(new ICU({ localeData: localeData }))\n  .use(XHR)\n  .use(LanguageDetector)\n  .init({\n    ns: ['app', 'welcome', 'status', 'files', 'explore', 'peers', 'settings', 'notify'],\n    fallbackLng: {\n      'zh-Hans': ['zh-CN', 'en'],\n      'zh-Hant': ['zh-TW', 'en'],\n      zh: ['zh-CN', 'en'],\n      default: ['en']\n    },\n    debug: process.env.NODE_ENV !== 'production',\n    backend: {\n      // ensure a relative path is used to look up the locales, so it works when used from /ipfs/<cid>\n      loadPath: 'locales/{{lng}}/{{ns}}.json'\n    },\n    // react i18next special options (optional)\n    react: {\n      wait: true,\n      useSuspense: false,\n      bindI18n: 'languageChanged loaded',\n      bindStore: 'added removed',\n      nsMode: 'default'\n    }\n  })\n\nexport default i18n\n","import React from 'react'\n\nconst StrokeCube = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M84.173 64.865v-29.1a4.48 4.48 0 1 0-4.4-7.63l-25.35-14.61a4.7 4.7 0 0 0 0-1.5 4.485 4.485 0 0 0-8.86 1.4v.17l-25 14.85a4.48 4.48 0 1 0-4.74 7.32v29.08a4.48 4.48 0 0 0 1.5 8.71 4.14 4.14 0 0 0 .7-.06 4.24 4.24 0 0 0 1.51-.5l26 14.72v.27a4.49 4.49 0 0 0 4.49 3.76 4.2 4.2 0 0 0 .7 0 4.5 4.5 0 0 0 3.78-4.19l25-15.32a4.48 4.48 0 0 0 3.2 1.37 4.23 4.23 0 0 0 .7-.06 4.47 4.47 0 0 0 .8-8.63zm-5.15 1.56a4.42 4.42 0 0 0-.82 3l-24.63 15.13a4.5 4.5 0 0 0-2.55-1.66v-28.55a4.48 4.48 0 0 0 3.44-5l25-14.77a4.46 4.46 0 0 0 1.74 1.15v29.12a4.46 4.46 0 0 0-2.18 1.58zm-32.67 18.27l-24.81-14a4.34 4.34 0 0 0 .26-2.3 4.44 4.44 0 0 0-2.93-3.5v-29.13a4.61 4.61 0 0 0 1.44-.85l25.33 14.16a4.4 4.4 0 0 0 0 1.62 4.48 4.48 0 0 0 3.38 3.66v28.55a4.52 4.52 0 0 0-2.67 1.79zm3.67-67.48a4.23 4.23 0 0 0 .7-.06 4.33 4.33 0 0 0 2.2-1l25.35 14.58a4.76 4.76 0 0 0 0 1.51 4 4 0 0 0 .17.66l-24.71 14.59a4.46 4.46 0 0 0-7.25-.24l-25-14a4.31 4.31 0 0 0 .33-2.06l25.34-15a4.48 4.48 0 0 0 2.87 1.02zm.39 35.24a2.49 2.49 0 1 1 2.07-2.85 2.5 2.5 0 0 1-2.07 2.85zm31.87-23.37a2.49 2.49 0 1 1-2.07 2.84 2.49 2.49 0 0 1 2.07-2.84zm-32.65-18.81a2.49 2.49 0 1 1-2.07 2.84 2.49 2.49 0 0 1 2.07-2.84zm-34.71 21.65a2.49 2.49 0 1 1 2.84 2.07 2.48 2.48 0 0 1-2.84-2.07zm2.84 39.6a2.49 2.49 0 0 1-.74-4.91 2.43 2.43 0 0 1 1.85.44 2.48 2.48 0 0 1-1.07 4.47zm32.65 18.19a2.49 2.49 0 1 1 2.07-2.84 2.5 2.5 0 0 1-2.07 2.84zm32.61-18.19a2.49 2.49 0 1 1-.78-4.91 2.47 2.47 0 0 1 2.84 2.06 2.49 2.49 0 0 1-2.06 2.85z' />\n  </svg>\n)\n\nexport default StrokeCube\n","import React from 'react'\nimport './Loader.css'\n\nexport const Loader = ({ color = 'light', ...props }) => {\n  const className = `dib la-ball-triangle-path la-${color} la-sm`\n  return (\n    <div {...props}>\n      <div\n        className={className}\n        style={{ width: 20, height: 20 }}>\n        <div />\n        <div />\n        <div />\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Box from '../components/box/Box.js'\nimport { Loader } from './Loader'\n\nclass ComponentLoader extends React.Component {\n  render () {\n    const { pastDelay } = this.props\n    return pastDelay ? (\n      <Box style={{ height: '100%' }}>\n        <div style={{ height: '100%' }}>\n          <Loader color='dark' />\n        </div>\n      </Box>\n    ) : null\n  }\n}\n\nexport default ComponentLoader\n","import React, { useState } from 'react'\nimport { Trans } from 'react-i18next'\nimport { connect } from 'redux-bundler-react'\nimport Checkbox from '../checkbox/Checkbox'\nimport Details from '../details/Details'\n\nconst ExampleRequest = ({ url, method = 'GET' }) => {\n  return (\n    <pre className='overflow-x-scroll pa3 mr3 f6 ba b--black-10 br2 bg-snow-muted'>\n      <code className='green'>{method}</code> {url}\n    </pre>\n  )\n}\n\nconst QueryParams = ({ url }) => {\n  if (!url) return null\n  const params = (new URL(url)).searchParams\n  const entries = [...params]\n  return (\n    <dl className='pa3 mr3 f7 overflow-x-scroll monospace nowrap ba b--black-10 br2 bg-snow-muted'>\n      {entries.map(([key, value]) => (\n        <div key={`QueryParams-${key}`}>\n          <dt className='dib green'>{key}:</dt>\n          <dd className='dib ml1'>{value}</dd>\n        </div>\n      ))}\n    </dl>\n  )\n}\n\nconst AnalyticType = ({ children, onChange, enabled, label, summary, exampleRequest, queryParams, sourceLink, sourceLinkLabel = 'view source' }) => {\n  // show hide state. update react.\n  const [isOpen, setOpen] = useState(false)\n  return (\n    <section className='bg-white bb b--black-10'>\n      <div className='flex items-center'>\n        <Checkbox className='pv3 pl3 pr1 bg-white flex-none' onChange={onChange} checked={enabled} label={\n          <span className='fw5 f6'>{label}</span>\n        } />\n        <div className='truncate fw4 f6 flex-auto charcoal-muted'>&ndash; {summary}</div>\n        <button className='focus-outline bg-transparent pa3 bn link blue pointer flex-none' onClick={() => setOpen(!isOpen)} style={{ minWidth: 100 }}>\n          {isOpen ? 'Close' : 'Show me' }\n        </button>\n      </div>\n      {isOpen && (\n        <div className='ph3 nt2 pb3'>\n          {children}\n          {sourceLink && (\n            <p>\n              <a href={sourceLink} className='link blue' target='_blank' rel='noopener noreferrer'>View source</a>\n            </p>\n          )}\n          {exampleRequest && (\n            <div>\n              <h3 className='f5 fw6'>Example request</h3>\n              <ExampleRequest url={exampleRequest} />\n              <h4 className='f6 fw5'>Query parameters</h4>\n              <QueryParams url={exampleRequest} />\n            </div>\n          )}\n        </div>\n      )}\n    </section>\n  )\n}\n\nconst AnalyticsToggle = ({ analyticsActionsToRecord, analyticsConsent, doToggleConsent, doToggleAnalytics, analyticsEnabled, t, open }) => {\n  return (\n    <React.Fragment>\n      <Checkbox className='dib' onChange={doToggleAnalytics} checked={analyticsEnabled} label={\n        <span className='fw5 f6'>\n          {t('AnalyticsToggle.label')}\n        </span>\n      } />\n      <div className='f6 charcoal lh-copy mw7'>\n        <p>{t('AnalyticsToggle.paragraph1')}</p>\n        <Details summaryText={t('AnalyticsToggle.summary')} className='pt2' open={open}>\n          <p>\n            <Trans i18nKey='AnalyticsToggle.paragraph2'>\n              Protocol Labs hosts a <a className='link blue' href='https://count.ly/'>Countly</a> instance to record anonymous usage data for this app.\n            </Trans>\n          </p>\n          <p>{t('AnalyticsToggle.optionalInfo')}</p>\n          <AnalyticType\n            onChange={() => doToggleConsent('sessions')}\n            enabled={analyticsConsent.includes('sessions')}\n            label={t('AnalyticsToggle.sessions.label')}\n            summary={t('AnalyticsToggle.sessions.summary')}\n            sourceLink='https://github.com/Countly/countly-sdk-web/blob/93442edbe8c108618c88cc9e1ad179892c42940b/lib/countly.js#L1885-L1953'\n            exampleRequest='https://countly.ipfs.io/i?begin_session=1&metrics=%7B%22_app_version%22%3A%222.4.0%22%2C%22_ua%22%3A%22Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010_14_2)%20AppleWebKit%2F537.36%20(KHTML%2C%20like%20Gecko)%20Chrome%2F72.0.3626.121%20Safari%2F537.36%22%2C%22_resolution%22%3A%221920x1080%22%2C%22_density%22%3A2%2C%22_locale%22%3A%22en-GB%22%7D&app_key=700fd825c3b257e021bd9dbc6cbf044d33477531&device_id=804117b1-c21d-4e55-a65f-f9dbbe9a1f91&sdk_name=javascript_native_web&sdk_version=19.02.1&timestamp=1552296210554&hour=9&dow=1&consent=%7B%22sessions%22%3Atrue%2C%22events%22%3Atrue%2C%22views%22%3Atrue%2C%22location%22%3Atrue%2C%22crashes%22%3Atrue%7D'>\n            <Trans i18nKey='AnalyticsToggle.sessions.details'>\n              <p>The following browser metrics are sent</p>\n              <ul>\n                <li>A random, generated device ID</li>\n                <li>Timestamp when the session starts</li>\n                <li>Periodic timestamps to track duration</li>\n                <li>App version e.g. \"2.4.4\"</li>\n                <li>Locale e.g. \"en-GB\"</li>\n                <li>User Agent e.g. \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) ...\"</li>\n                <li>Screen resolution e.g. \"800x600\"</li>\n                <li>Screen pixel density e.g. \"1\"</li>\n              </ul>\n            </Trans>\n          </AnalyticType>\n\n          <AnalyticType\n            onChange={() => doToggleConsent('events')}\n            enabled={analyticsConsent.includes('events')}\n            label={t('AnalyticsToggle.events.label')}\n            summary={t('AnalyticsToggle.events.summary')}\n            sourceLink='https://github.com/ipfs-shipyard/ipfs-webui/blob/30a077efe5198bf6403681b094ab585a88395c40/src/bundles/analytics.js#L93-L111'\n            exampleRequest='https://countly.ipfs.io/i?events=%5B%7B%22key%22%3A%22FILES_MAKEDIR%22%2C%22count%22%3A1%2C%22dur%22%3A0.015194999985396862%2C%22timestamp%22%3A1552296333639%2C%22hour%22%3A9%2C%22dow%22%3A1%7D%5D&app_key=700fd825c3b257e021bd9dbc6cbf044d33477531&device_id=804117b1-c21d-4e55-a65f-f9dbbe9a1f91&sdk_name=javascript_native_web&sdk_version=19.02.1&timestamp=1552296333640&hour=9&dow=1'>\n            <p>\n              <Trans i18nKey='AnalyticsToggle.events.details'>\n                App specific actions. We record only that the action happened, how long it took from start to finish, and a count if the event involved multiple items.\n              </Trans>\n            </p>\n            <p>The recorded actions are:</p>\n            <ul>\n              {analyticsActionsToRecord.map(name => (\n                <li key={name} className='mb1'>\n                  <code className='f7 bg-snow-muted pa1 br2'>{name}</code>\n                </li>\n              ))}\n            </ul>\n          </AnalyticType>\n\n          <AnalyticType\n            onChange={() => doToggleConsent('views')}\n            enabled={analyticsConsent.includes('views')}\n            label={t('AnalyticsToggle.views.label')}\n            summary={t('AnalyticsToggle.views.summary')}\n            sourceLink='https://github.com/ipfs-shipyard/ipfs-webui/blob/2fb9df4e7b294f26b35b1dd76084fe85672b6f2b/src/bundles/analytics.js#L81-L86'\n            exampleRequest='https://countly.ipfs.io/i?events=%5B%7B%22key%22%3A%22%5BCLY%5D_view%22%2C%22count%22%3A1%2C%22dur%22%3A2%2C%22segmentation%22%3A%7B%22name%22%3A%22%2F%22%7D%2C%22timestamp%22%3A1552296364914%2C%22hour%22%3A9%2C%22dow%22%3A1%7D%2C%7B%22key%22%3A%22%5BCLY%5D_view%22%2C%22count%22%3A1%2C%22segmentation%22%3A%7B%22name%22%3A%22%2Ffiles*%22%2C%22visit%22%3A1%2C%22domain%22%3A%22localhost%22%2C%22view%22%3A%22%2F%22%7D%2C%22timestamp%22%3A1552296364915%2C%22hour%22%3A9%2C%22dow%22%3A1%7D%5D&app_key=700fd825c3b257e021bd9dbc6cbf044d33477531&device_id=804117b1-c21d-4e55-a65f-f9dbbe9a1f91&sdk_name=javascript_native_web&sdk_version=19.02.1&timestamp=1552296364916&hour=9&dow=1'>\n            <p>{t('AnalyticsToggle.views.details')}</p>\n          </AnalyticType>\n\n          <AnalyticType\n            onChange={() => doToggleConsent('location')}\n            enabled={analyticsConsent.includes('location')}\n            label={t('AnalyticsToggle.location.label')}\n            summary={t('AnalyticsToggle.location.summary')}\n            sourceLink='https://github.com/Countly/countly-sdk-web/blob/93442edbe8c108618c88cc9e1ad179892c42940b/lib/countly.js#L1736-L1751'>\n            <p>{t('AnalyticsToggle.location.details')}</p>\n          </AnalyticType>\n\n          <AnalyticType\n            onChange={() => doToggleConsent('crashes')}\n            enabled={analyticsConsent.includes('crashes')}\n            label={t('AnalyticsToggle.crashes.label')}\n            summary={t('AnalyticsToggle.crashes.summary')}\n            sourceLink='https://github.com/ipfs-shipyard/ipfs-webui/blob/2fb9df4e7b294f26b35b1dd76084fe85672b6f2b/src/bundles/analytics.js#L115-L121'\n            exampleRequest='https://countly.ipfs.io/i?crash=%7B%22_resolution%22%3A%221920x1080%22%2C%22_error%22%3A%22Error%3A%20example%20error%5Cn%20%20%20%20at%20Object._callee%24%20(http%3A%2F%2Flocalhost%3A3000%2Fstatic%2Fjs%2Fbundle.js%3A192105%3A63)%5Cn%20%20%20%20at%20tryCatch%20(http%3A%2F%2Flocalhost%3A3000%2Fstatic%2Fjs%2Fbundle.js%3A173974%3A40)%5Cn%20%20%20%20at%20Generator.invoke%20%5Bas%20_invoke%5D%20(http%3A%2F%2Flocalhost%3A3000%2Fstatic%2Fjs%2Fbundle.js%3A174208%3A22)%5Cn%20%20%20%20at%20Generator.prototype.(anonymous%20function)%20%5Bas%20next%5D%20(http%3A%2F%2Flocalhost%3A3000%2Fstatic%2Fjs%2Fbundle.js%3A174026%3A21)%5Cn%20%20%20%20at%20step%20(http%3A%2F%2Flocalhost%3A3000%2Fstatic%2Fjs%2Fbundle.js%3A192086%3A191)%5Cn%20%20%20%20at%20http%3A%2F%2Flocalhost%3A3000%2Fstatic%2Fjs%2Fbundle.js%3A192086%3A361%22%2C%22_app_version%22%3A%222.4.0%22%2C%22_run%22%3A5%2C%22_not_os_specific%22%3Atrue%2C%22_online%22%3Atrue%2C%22_background%22%3Atrue%2C%22_logs%22%3A%22STATS_FETCH_FAILED%22%2C%22_nonfatal%22%3Atrue%2C%22_view%22%3A%22%2F%23%2Fsettings%22%2C%22_custom%22%3Anull%2C%22_opengl%22%3A%22WebGL%201.0%20(OpenGL%20ES%202.0%20Chromium)%22%7D&app_key=700fd825c3b257e021bd9dbc6cbf044d33477531&device_id=d96d67ff-4797-45da-83b4-9e8f599cd12a&sdk_name=javascript_native_web&sdk_version=19.02.1&timestamp=1552294449012&hour=8&dow=1'>\n            <p>\n              <Trans i18nKey='AnalyticsToggle.crashes.details'>\n                Records JavaScript error messages and stack traces that occur while using the app, where possible. It is very helpful to know when the app is not working for you, but <b>error messages may include identifiable information</b> like CIDs or file paths, so only enable this if you are comfortable sharing that information with us.\n              </Trans>\n            </p>\n          </AnalyticType>\n\n        </Details>\n      </div>\n    </React.Fragment>\n  )\n}\n\nexport default connect(\n  'selectAnalyticsEnabled',\n  'selectAnalyticsConsent',\n  'selectAnalyticsActionsToRecord',\n  'doToggleAnalytics',\n  'doToggleConsent',\n  AnalyticsToggle\n)\n","import React from 'react'\n\nconst GlyphSmallTick = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M44.39 66.09L32.74 54.44l3.92-3.92 7.73 7.73 19.36-19.36 3.92 3.92z' />\n  </svg>\n)\n\nexport default GlyphSmallTick\n","import React from 'react'\nimport 'details-polyfill'\n\nconst Details = ({\n  summaryText = 'Advanced',\n  children,\n  ...props\n}) => {\n  return (\n    <details {...props}>\n      <summary className='pointer blue outline-0'>{summaryText}</summary>\n      {children}\n    </details>\n  )\n}\n\nexport default Details\n","module.exports = __webpack_public_path__ + \"static/media/ipfs-logo.e2de4d07.svg\";","module.exports = __webpack_public_path__ + \"static/media/ipfs-logo-text.4831bd1a.svg\";","import toUri from 'multiaddr-to-uri'\nimport { createAsyncResourceBundle, createSelector } from 'redux-bundler'\n\nconst bundle = createAsyncResourceBundle({\n  name: 'config',\n  getPromise: async ({ getIpfs }) => {\n    // SEE: https://github.com/ipfs/js-ipfs-api/issues/822\n    const rawConf = await getIpfs().config.get()\n    let conf\n\n    if (Buffer.isBuffer(rawConf)) {\n      conf = rawConf.toString()\n    } else {\n      conf = JSON.stringify(rawConf, null, '\\t')\n    }\n\n    // stringy json for quick compares\n    return conf\n  },\n  staleAfter: 60000,\n  persist: false,\n  checkIfOnline: false\n})\n\n// derive the object from the stringy json\nbundle.selectConfigObject = createSelector(\n  'selectConfig',\n  (configStr) => JSON.parse(configStr)\n)\n\nbundle.selectApiUrl = createSelector(\n  'selectConfigObject',\n  (config) => getURLFromAddress('API', config) || 'https://ipfs.io'\n)\n\nbundle.selectGatewayUrl = createSelector(\n  'selectConfigObject',\n  (config) => getURLFromAddress('Gateway', config) || 'https://ipfs.io'\n)\n\nbundle.selectBootstrapPeers = createSelector(\n  'selectConfigObject',\n  (config) => config && config.Bootstrap\n)\n\n// TODO: this is a work-around for IPFS companion blocking the config API\n// see: https://github.com/ipfs-shipyard/ipfs-companion/issues/454\nbundle.selectIsConfigBlocked = createSelector(\n  'selectConfigRaw',\n  ({ errorType }) => errorType === 'Access to config.get API is globally blocked for window.ipfs'\n)\n\n// Fetch the config if we don't have it or it's more than `staleAfter` ms old\nbundle.reactConfigFetch = createSelector(\n  'selectConfigShouldUpdate',\n  'selectIpfsReady',\n  (shouldUpdate, ipfsReady) => {\n    if (shouldUpdate && ipfsReady) {\n      return { actionCreator: 'doFetchConfig' }\n    }\n  }\n)\n\nfunction getURLFromAddress (name, config) {\n  if (!config) return null\n\n  try {\n    const address = Array.isArray(config.Addresses[name])\n      ? config.Addresses[name][0]\n      : config.Addresses[name]\n    return toUri(address).replace('tcp://', 'http://')\n  } catch (error) {\n    console.log(`Failed to get url from Addresses.${name}`, error)\n    return null\n  }\n}\n\nexport default bundle\n","export const IS_MAC = navigator.userAgent.indexOf('Mac') !== -1\n\nexport const ACTIONS = {\n  FETCH: 'FETCH',\n  MOVE: 'MOVE',\n  COPY: 'COPY',\n  DELETE: 'DELETE',\n  MAKE_DIR: 'MAKEDIR',\n  WRITE: 'WRITE',\n  DOWNLOAD_LINK: 'DOWNLOADLINK',\n  ADD_BY_PATH: 'ADDBYPATH',\n  PIN_ADD: 'PIN_ADD',\n  PIN_REMOVE: 'PIN_REMOVE',\n  PIN_LIST: 'PIN_LIST',\n  FILES_SIZE_GET: 'FILES_SIZE_GET'\n}\n\nexport const SORTING = {\n  BY_NAME: 'name',\n  BY_SIZE: 'size'\n}\n\nexport const IGNORED_FILES = [\n  '.DS_Store',\n  'thumbs.db',\n  'desktop.ini'\n]\n\nexport const DEFAULT_STATE = {\n  pageContent: null,\n  pins: [],\n  sorting: { // TODO: cache this\n    by: SORTING.BY_NAME,\n    asc: true\n  },\n  pending: [],\n  finished: [],\n  failed: []\n}\n","import { sortByName, sortBySize } from '../../lib/sort'\nimport { ACTIONS, IS_MAC, SORTING } from './consts'\n\nexport const make = (basename, action, options = {}) => (...args) => async (args2) => {\n  const id = Symbol(basename)\n  const { dispatch, getIpfs, store } = args2\n  dispatch({ type: `FILES_${basename}_STARTED`, payload: { id } })\n\n  let data\n\n  if (options.mfsOnly) {\n    const info = store.selectFilesPathInfo()\n    if (!info || !info.isMfs) {\n      // musn't happen\n      return\n    }\n  }\n\n  try {\n    data = await action(getIpfs(), ...args, id, args2)\n    dispatch({ type: `FILES_${basename}_FINISHED`, payload: { id, ...data } })\n\n    // Rename specific logic\n    if (basename === ACTIONS.MOVE) {\n      const src = args[0]\n      const dst = args[1]\n\n      if (src === store.selectFiles().path) {\n        await store.doUpdateHash(dst)\n      }\n    }\n\n    // Delete specific logic\n    if (basename === ACTIONS.DELETE) {\n      const src = args[0][0]\n\n      let path = src.split('/')\n      path.pop()\n      path = path.join('/')\n\n      await store.doUpdateHash(path)\n    }\n  } catch (error) {\n    if (!error.code) {\n      error.code = `ERR_${basename}`\n    }\n\n    console.error(error)\n    dispatch({ type: `FILES_${basename}_FAILED`, payload: { id, error } })\n  } finally {\n    if (basename !== ACTIONS.FETCH) {\n      await store.doFilesFetch()\n    }\n\n    if (basename === ACTIONS.PIN_ADD || basename === ACTIONS.PIN_REMOVE) {\n      await store.doPinsFetch()\n    }\n  }\n\n  return data\n}\n\nexport const sortFiles = (files, sorting) => {\n  const sortDir = sorting.asc ? 1 : -1\n  const nameSort = sortByName(sortDir)\n  const sizeSort = sortBySize(sortDir)\n\n  return files.sort((a, b) => {\n    if (a.type === b.type || IS_MAC) {\n      if (sorting.by === SORTING.BY_NAME) {\n        return nameSort(a.name, b.name)\n      } else {\n        return sizeSort(a.cumulativeSize || a.size, b.cumulativeSize || b.size)\n      }\n    }\n\n    if (a.type === 'directory') {\n      return -1\n    } else {\n      return 1\n    }\n  })\n}\n\nexport const infoFromPath = (path) => {\n  const info = {\n    path: path,\n    realPath: null,\n    isMfs: false,\n    isPins: false,\n    isRoot: false\n  }\n\n  const check = (prefix) => {\n    info.realPath = info.path.substr(prefix.length).trim() || '/'\n    info.isRoot = info.realPath === '/'\n  }\n\n  if (info.path.startsWith('/ipns') || info.path.startsWith('/ipfs')) {\n    info.realPath = info.path\n    info.isRoot = info.path === '/ipns' || info.path === '/ipfs'\n  } else if (info.path.startsWith('/files')) {\n    check('/files')\n    info.isMfs = true\n  } else if (info.path.startsWith('/pins')) {\n    check('/pins')\n    info.isPins = true\n\n    if (info.realPath !== '/') {\n      info.realPath = `/ipfs${info.realPath}`\n    }\n  } else {\n    return\n  }\n\n  if (info.path.endsWith('/') && info.realPath !== '/') {\n    info.path = info.path.substring(0, info.path.length - 1)\n    info.realPath = info.realPath.substring(0, info.realPath.length - 1)\n  }\n\n  info.realPath = decodeURIComponent(info.realPath)\n  info.path = decodeURIComponent(info.path)\n\n  return info\n}\n","import { dirname } from 'path'\n\n/**\n* countDirs: find all the dirs that will be created from a list of paths.\n*\n* files is an array of file objects as passed to ipfs.added\n* The root dir is counted, and All entries are assumed to be file paths,\n* `/foo` is assumed to be a file `foo` with no extention in the root dir,\n* which would be counted as 1 unigue dir by this function.\n*\n* ```js\n* files = [\n*   { path: '/foo/bar/foo.txt', ... }\n*   { path: '/foo/bar/odd', ... }\n* ]\n* countDirs(files) === 3\n* // ['/', '/foo', '/foo/bar']\n* ```\n*\n* We need to calculat how many directories are in the tree.\n*\n* See: https://github.com/ipfs/interface-ipfs-core/blob/master/SPEC/FILES.md#add\n*/\nfunction countDirs (files) {\n  if (!files || !files.length) return 0\n  const paths = files.map(f => f.path)\n    .filter(p => !!p)\n\n  // [ /foo/bar, /foo/other, /foo/zoom, /aaa/other ]\n  const directories = new Set()\n  paths.forEach(path => findUniqueDirectories(path, directories))\n  return directories.size\n}\n\nfunction findUniqueDirectories (path, res = new Set()) {\n  if (!path) return res\n  const name = dirname(path)\n  if (name === '.') return res\n  res.add(name)\n  if (name === '/') return res\n  return findUniqueDirectories(name, res)\n}\n\nexport default countDirs\n","import { join, dirname, basename } from 'path'\nimport { getDownloadLink, getShareableLink } from '../../lib/files'\nimport countDirs from '../../lib/count-dirs'\n\nimport { make, sortFiles, infoFromPath } from './utils'\nimport { IGNORED_FILES, ACTIONS } from './consts'\n\nconst fileFromStats = ({ cumulativeSize, type, size, hash, name }, path, prefix = '/ipfs') => ({\n  size: cumulativeSize || size || null,\n  type: (type === 'dir' || type === 'directory') ? 'directory' : (type === 'unknown') ? 'unknown' : 'file',\n  hash: hash,\n  name: name || path ? path.split('/').pop() : hash,\n  path: path || `${prefix}/${hash}`\n})\n\n// TODO: use sth else\nconst realMfsPath = (path) => {\n  if (path.startsWith('/files')) {\n    return path.substr('/files'.length) || '/'\n  }\n\n  return path\n}\n\nconst stat = async (ipfs, hashOrPath) => {\n  const path = hashOrPath.startsWith('/')\n    ? hashOrPath\n    : `/ipfs/${hashOrPath}`\n\n  try {\n    const stats = await ipfs.files.stat(path)\n    return stats\n  } catch (e) {\n    // Discard error and mark DAG as 'unknown' to unblock listing other pins.\n    // Clicking on 'unknown' entry will open it in Inspector.\n    // No information is lost: if there is an error related\n    // to specified hashOrPath user will read it in Inspector.\n    return {\n      path: hashOrPath,\n      hash: hashOrPath,\n      type: 'unknown'\n    }\n  }\n}\n\nconst getRawPins = async (ipfs) => {\n  const recursive = await ipfs.pin.ls({ type: 'recursive' })\n  const direct = await ipfs.pin.ls({ type: 'direct' })\n\n  return recursive.concat(direct)\n}\n\nconst getPins = async (ipfs) => {\n  const pins = await getRawPins(ipfs)\n\n  const stats = await Promise.all(\n    pins.map(({ hash }) => stat(ipfs, hash))\n  )\n\n  return stats.map(item => {\n    item = fileFromStats(item, null, '/pins')\n    item.pinned = true\n    return item\n  })\n}\n\nconst fetchFiles = make(ACTIONS.FETCH, async (ipfs, id, { store }) => {\n  let { path, realPath, isMfs, isPins, isRoot } = store.selectFilesPathInfo()\n\n  if (isRoot && !isMfs && !isPins) {\n    throw new Error('not supposed to be here')\n  }\n\n  if (isRoot && isPins) {\n    const pins = await getPins(ipfs) // FIX: pins path\n\n    return {\n      path: '/pins',\n      fetched: Date.now(),\n      type: 'directory',\n      content: pins\n    }\n  }\n\n  if (realPath.startsWith('/ipns')) {\n    realPath = await ipfs.name.resolve(realPath)\n  }\n\n  const stats = await stat(ipfs, realPath)\n\n  if (stats.type === 'unknown') {\n    return stats\n  }\n\n  if (stats.type === 'file') {\n    return {\n      ...fileFromStats(stats, path),\n      fetched: Date.now(),\n      type: 'file',\n      read: () => ipfs.cat(stats.hash),\n      name: path.split('/').pop(),\n      size: stats.size,\n      hash: stats.hash\n    }\n  }\n\n  // Otherwise get the directory info\n  const res = await ipfs.ls(stats.hash) || []\n  const files = []\n  const showStats = res.length < 100\n\n  for (const f of res) {\n    const absPath = join(path, f.name)\n    let file = null\n\n    if (showStats && f.type === 'dir') {\n      file = fileFromStats(await stat(ipfs, f.hash), absPath)\n    } else {\n      file = fileFromStats(f, absPath)\n    }\n\n    files.push(file)\n  }\n\n  let parent = null\n\n  if (!isRoot) {\n    const parentPath = dirname(path)\n    const parentInfo = infoFromPath(parentPath)\n\n    if (parentInfo.isMfs || !parentInfo.isRoot) {\n      if (parentInfo.realPath.startsWith('/ipns')) {\n        parentInfo.realPath = await ipfs.name.resolve(parentInfo.realPath)\n      }\n\n      parent = fileFromStats(await ipfs.files.stat(parentInfo.realPath))\n\n      parent.name = '..'\n      parent.path = parentInfo.path\n      parent.isParent = true\n    }\n  }\n\n  return {\n    path: path,\n    fetched: Date.now(),\n    type: 'directory',\n    hash: stats.hash,\n    upper: parent,\n    content: sortFiles(files, store.selectFilesSorting())\n  }\n})\n\nexport default () => ({\n  doPinsFetch: make(ACTIONS.PIN_LIST, async (ipfs) => {\n    return { pins: (await getRawPins(ipfs)).map(f => f.hash) }\n  }),\n\n  doFilesFetch: () => async ({ store, ...args }) => {\n    const isReady = store.selectIpfsReady()\n    const isConnected = store.selectIpfsConnected()\n    const isFetching = store.selectFilesIsFetching()\n    const info = store.selectFilesPathInfo()\n\n    if (isReady && isConnected && !isFetching && info) {\n      fetchFiles()({ store, ...args })\n    }\n  },\n\n  doFilesWrite: make(ACTIONS.WRITE, async (ipfs, files, root, id, { dispatch }) => {\n    files = files.filter(f => !IGNORED_FILES.includes(basename(f.path)))\n    const totalSize = files.reduce((prev, { size }) => prev + size, 0)\n\n    // Normalise all paths to be relative. Dropped files come as absolute,\n    // those added by the file input come as relative paths, so normalise them.\n    files.forEach(s => {\n      if (s.path[0] === '/') {\n        s.path = s.path.slice(1)\n      }\n    })\n\n    const updateProgress = (sent) => {\n      dispatch({ type: 'FILES_WRITE_UPDATED', payload: { id: id, progress: sent / totalSize * 100 } })\n    }\n\n    updateProgress(0)\n\n    let res = null\n    try {\n      res = await ipfs.add(files, {\n        pin: false,\n        wrapWithDirectory: false,\n        progress: updateProgress\n      })\n    } catch (error) {\n      console.error(error)\n      throw error\n    }\n\n    const numberOfFiles = files.length\n    const numberOfDirs = countDirs(files)\n    const expectedResponseCount = numberOfFiles + numberOfDirs\n\n    if (res.length !== expectedResponseCount) {\n      // See https://github.com/ipfs/js-ipfs-api/issues/797\n      throw Object.assign(new Error('API returned a partial response.'), { code: 'ERR_API_RESPONSE' })\n    }\n\n    for (const { path, hash } of res) {\n      // Only go for direct children\n      if (path.indexOf('/') === -1 && path !== '') {\n        const src = `/ipfs/${hash}`\n        const dst = join(realMfsPath(root), path)\n\n        try {\n          await ipfs.files.cp([src, dst])\n        } catch (err) {\n          throw Object.assign(new Error('Folder already exists.'), { code: 'ERR_FOLDER_EXISTS' })\n        }\n      }\n    }\n\n    updateProgress(totalSize)\n  }),\n\n  doFilesDelete: make(ACTIONS.DELETE, (ipfs, files) => {\n    const promises = files.map(file => ipfs.files.rm(realMfsPath(file), { recursive: true }))\n    return Promise.all(promises)\n  }, { mfsOnly: true }),\n\n  doFilesAddPath: make(ACTIONS.ADD_BY_PATH, (ipfs, root, src) => {\n    src = realMfsPath(src)\n    const name = src.split('/').pop()\n    const dst = realMfsPath(join(root, name))\n    const srcPath = src.startsWith('/') ? src : `/ipfs/${name}`\n\n    return ipfs.files.cp([srcPath, dst])\n  }, { mfsOnly: true }),\n\n  doFilesDownloadLink: make(ACTIONS.DOWNLOAD_LINK, async (ipfs, files, id, { store }) => {\n    const apiUrl = store.selectApiUrl()\n    const gatewayUrl = store.selectGatewayUrl()\n    return getDownloadLink(files, gatewayUrl, apiUrl, ipfs)\n  }),\n\n  doFilesShareLink: make(ACTIONS.SHARE_LINK, async (ipfs, files) => getShareableLink(files, ipfs)),\n\n  doFilesMove: make(ACTIONS.MOVE, (ipfs, src, dst) => ipfs.files.mv([realMfsPath(src), realMfsPath(dst)]), { mfsOnly: true }),\n\n  doFilesCopy: make(ACTIONS.COPY, (ipfs, src, dst) => ipfs.files.cp([realMfsPath(src), realMfsPath(dst)]), { mfsOnly: true }),\n\n  doFilesMakeDir: make(ACTIONS.MAKE_DIR, (ipfs, path) => ipfs.files.mkdir(realMfsPath(path), { parents: true }), { mfsOnly: true }),\n\n  doFilesPin: make(ACTIONS.PIN_ADD, (ipfs, hash) => ipfs.pin.add(hash)),\n\n  doFilesUnpin: make(ACTIONS.PIN_REMOVE, (ipfs, hash) => ipfs.pin.rm(hash)),\n\n  doFilesDismissErrors: () => async ({ dispatch }) => dispatch({ type: 'FILES_DISMISS_ERRORS' }),\n\n  doFilesNavigateTo: (path) => async ({ store }) => {\n    const link = path.split('/').map(p => encodeURIComponent(p)).join('/')\n    const files = store.selectFiles()\n    const url = store.selectFilesPathInfo()\n\n    if (files && files.path === link && url) {\n      store.doFilesFetch()\n    } else {\n      store.doUpdateHash(`${link}`)\n    }\n  },\n\n  doFilesUpdateSorting: (by, asc) => async ({ dispatch }) => {\n    dispatch({ type: 'FILES_UPDATE_SORT', payload: { by, asc } })\n  },\n\n  doFilesSizeGet: make(ACTIONS.FILES_SIZE_GET, async (ipfs) => {\n    const stat = await ipfs.files.stat('/')\n    return { size: stat.cumulativeSize }\n  })\n})\n","import { sortFiles } from './utils'\nimport { DEFAULT_STATE, ACTIONS, SORTING } from './consts'\nimport selectors from './selectors'\nimport actions from './actions'\n\nexport { ACTIONS }\n\nexport const sorts = SORTING\n\nexport default () => {\n  return {\n    name: 'files',\n\n    reducer: (state = DEFAULT_STATE, action) => {\n      if (!action.type.startsWith('FILES_')) {\n        return state\n      }\n\n      if (action.type === 'FILES_DISMISS_ERRORS') {\n        return {\n          ...state,\n          failed: []\n        }\n      }\n\n      if (action.type === 'FILES_UPDATE_SORT') {\n        const pageContent = state.pageContent\n\n        return {\n          ...state,\n          pageContent: {\n            ...pageContent,\n            content: sortFiles(pageContent.content, action.payload)\n          },\n          sorting: action.payload\n        }\n      }\n\n      const parts = action.type.split('_').splice(1)\n\n      const status = parts.pop()\n      const type = parts.join('_')\n\n      const { id, ...data } = action.payload\n\n      if (status === 'STARTED') {\n        return {\n          ...state,\n          pending: [\n            ...state.pending,\n            {\n              type: type,\n              id: id,\n              start: Date.now(),\n              data: data\n            }\n          ]\n        }\n      } else if (status === 'UPDATED') {\n        const pendingAction = state.pending.find(a => a.id === id)\n\n        return {\n          ...state,\n          pending: [\n            ...state.pending.filter(a => a.id !== id),\n            {\n              ...pendingAction,\n              data: data\n            }\n          ]\n        }\n      } else if (status === 'FAILED') {\n        const pendingAction = state.pending.find(a => a.id === id)\n        let additional\n\n        if (type === ACTIONS.FETCH) {\n          additional = {\n            pageContent: null\n          }\n        }\n\n        return {\n          ...state,\n          ...additional,\n          pending: state.pending.filter(a => a.id !== id),\n          failed: [\n            ...state.failed,\n            {\n              ...pendingAction,\n              end: Date.now(),\n              error: data.error\n            }\n          ]\n        }\n      } else if (status === 'FINISHED') {\n        const action = state.pending.find(a => a.id === id)\n        let additional\n\n        if (type === ACTIONS.FILES_SIZE_GET) {\n          additional = {\n            mfsSize: data.size\n          }\n        }\n\n        if (type === ACTIONS.FETCH) {\n          additional = {\n            pageContent: data\n          }\n\n          if (data.path === '/pins') {\n            additional.pins = data.content.map(f => f.hash)\n          }\n        }\n\n        if (type === ACTIONS.PIN_LIST) {\n          additional = {\n            pins: data.pins\n          }\n        }\n\n        return {\n          ...state,\n          ...additional,\n          pending: state.pending.filter(a => a.id !== id),\n          finished: [\n            ...state.finished,\n            {\n              ...action,\n              data: data,\n              end: Date.now()\n            }\n          ]\n        }\n      }\n\n      return state\n    },\n\n    ...actions(),\n    ...selectors()\n  }\n}\n","import { createSelector } from 'redux-bundler'\nimport { ACTIONS } from './consts'\nimport { infoFromPath } from './utils'\n\nexport default () => ({\n  selectFiles: (state) => state.files.pageContent,\n\n  selectPins: (state) => state.files.pins,\n\n  selectFilesSize: (state) => state.files.mfsSize,\n\n  selectFilesIsFetching: (state) => state.files.pending.some(a => a.type === ACTIONS.FETCH),\n\n  selectShowLoadingAnimation: (state) => {\n    const pending = state.files.pending.find(a => a.type === ACTIONS.FETCH)\n    return pending ? (Date.now() - pending.start) > 1000 : false\n  },\n\n  selectFilesSorting: (state) => state.files.sorting,\n\n  selectWriteFilesProgress: (state) => {\n    const writes = state.files.pending.filter(s => s.type === ACTIONS.WRITE && s.data.progress)\n\n    if (writes.length === 0) {\n      return null\n    }\n\n    const sum = writes.reduce((acc, s) => s.data.progress + acc, 0)\n    return sum / writes.length\n  },\n\n  selectFilesHasError: (state) => state.files.failed.length > 0,\n\n  selectFilesErrors: (state) => state.files.failed,\n\n  selectFilesPathInfo: createSelector(\n    'selectRouteInfo',\n    (routeInfo) => {\n      return infoFromPath(routeInfo.url)\n    }\n  )\n})\n"],"sourceRoot":""}