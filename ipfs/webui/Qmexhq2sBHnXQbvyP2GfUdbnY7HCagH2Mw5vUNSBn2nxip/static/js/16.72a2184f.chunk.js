(this["webpackJsonpipfs-webui"]=this["webpackJsonpipfs-webui"]||[]).push([[16],{1115:function(e,t,a){"use strict";var n=a(55),r=a(56),l=a(76),c=a(74),s=a(75),o=a(0),i=a.n(o),d=a(37),m=a(148);t.a=function(e){var t=function(t){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(s)))).handleJoyrideCallback=function(e){var a=t.props.doDisableTours,n=e.action,r=e.status;("close"===n||[m.a.FINISHED].includes(r))&&a()},t}return Object(s.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return i.a.createElement(e,Object.assign({handleJoyrideCallback:this.handleJoyrideCallback},this.props))}}]),a}(i.a.Component);return Object(d.b)("doDisableTours",t)}},1198:function(e,t,a){"use strict";var n=a(0),r=a.n(n);t.a=function(e){e.title;var t=e.children;return r.a.createElement("div",{className:"mw6 br1 overflow-hidden"},r.a.createElement("div",{className:"f7 mb0 sans-serif ttu tracked charcoal pv1 pl2 bg-black-20"},"Shell"),r.a.createElement("div",{className:"bg-black-70 snow pa2 f7 lh-copy monospace nowrap overflow-x-auto"},t))}},1885:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(149),c=a(19),s=a(37),o=a(148),i=a(1135),d=a.n(i),m=Object(c.c)("status")((function(e){var t=e.peersCount,a=e.repoSize,n=d()(a||0,{round:1});return r.a.createElement("header",null,r.a.createElement("h1",{className:"montserrat fw2 f3 charcoal ma0 pt0 pb2"},r.a.createElement(c.b,{i18nKey:"StatusConnected.header1"},"Connected to IPFS")),r.a.createElement("p",{className:"montserrat fw4 f5 ma0 pb3 lh-copy"},r.a.createElement("span",{className:"db dib-ns"},r.a.createElement(c.b,{i18nKey:"StatusConnected.paragraph1",defaults:"Hosting <0>{repoSize} of files</0>",values:{repoSize:n},components:[r.a.createElement("a",{className:"link blue",href:"#/files"},"?")]})),r.a.createElement("span",{className:"dn di-ns gray"}," \u2014 "),r.a.createElement("span",{className:"db mt1 mt0-ns dib-ns"},r.a.createElement(c.b,{i18nKey:"StatusConnected.paragraph2",defaults:"Discovered <0>{peersCount} peers</0>",values:{peersCount:t.toString()},components:[r.a.createElement("a",{className:"link blue",href:"#/peers"},"?")]}))))})),u=Object(s.b)("selectPeersCount","selectRepoSize",m),p=a(1198),b=a(147),f=Object(c.c)("status")((function(e){var t=e.t;return r.a.createElement(b.a,{className:"mt3 pa3"},r.a.createElement("h2",{className:"ttu yellow tracked f6 fw4 aqua mt0 mb4"},t("bandwidthStats")),r.a.createElement("p",{className:"mw6 mr2 lh-copy charcoal f6"},r.a.createElement(c.b,{i18nKey:"bandwidthStatsDisabled"},"You have the bandwidth metrics disabled. You can enable them by typing the command bellow or changing the key ",r.a.createElement("code",null,"Swarm.DisableBandwidthMetrics")," to ",r.a.createElement("code",null,"false")," on",r.a.createElement("a",{className:"link blue",href:"#/settings"},"Settings"),". Then, you need to restart the IPFS daemon to apply the changes.")),r.a.createElement(p.a,null,r.a.createElement("code",{className:"db"},"$ ipfs config --json Swarm.DisableBandwidthMetrics false")))})),h=Object(c.c)("status")((function(){return r.a.createElement("header",null,r.a.createElement("h1",{className:"montserrat fw2 f3 yellow ma0 lh-title"},r.a.createElement(c.b,{i18nKey:"StatusNotConnected.header1"},"Failed to connect to the API")),r.a.createElement(c.b,{i18nKey:"StatusNotConnected.paragraph1"},r.a.createElement("p",{className:"mv3 lh-copy sans-serif"},"Start an IPFS daemon in a terminal:")),r.a.createElement(p.a,null,r.a.createElement("code",{className:"db"},"$ ipfs daemon"),r.a.createElement("code",{className:"db"},"Initializing daemon..."),r.a.createElement("code",{className:"db"},"API server listening on /ip4/127.0.0.1/tcp/5001")),r.a.createElement(c.b,{i18nKey:"StatusNotConnected.paragraph2"},r.a.createElement("p",{className:"mt3 lh-copy sans-serif"},"For more info on how to get started with IPFS you can ",r.a.createElement("a",{className:"link blue",href:"https://docs.ipfs.io/introduction/usage/"},"read the guide"),".")))})),E=a(55),v=a(56),y=a(76),g=a(74),w=a(75),N={"go-ipfs":{url:"https://github.com/ipfs/go-ipfs"},"js-ipfs":{url:"https://github.com/ipfs/js-ipfs"}},j=function(e){var t=e.agent,a=e.version;if(!a)return"";if("js-ipfs"===t){var n="".concat(N["js-ipfs"].url,"/releases/tag/v").concat(a);return r.a.createElement("a",{href:n,className:"link blue ml2",target:"_blank",rel:"noopener noreferrer"},"v",a)}return" v".concat(a)},O=function(e){var t=e.agentVersion;if(!t)return r.a.createElement("span",null,"Unknown");var a=t.split("/").filter((function(e){return!!e})),n=a[0],l=function(e){var t=N[e];return t?t.url:null}(n),c=a[1];return l?r.a.createElement("span",null,r.a.createElement("a",{href:l,className:"link blue",target:"_blank",rel:"noopener noreferrer"},n),r.a.createElement(j,{agent:n,version:c})):r.a.createElement("span",null,n,r.a.createElement(j,{agent:n,version:c}))},k=a(38),S=function(e){var t=e.term,a=e.desc,n=e.advanced,l=e.termWidth;return r.a.createElement("div",{className:"dt dt--fixed pt2 mw9 lh-copy"},r.a.createElement(C,{width:l},t),r.a.createElement(x,{advanced:n},a))},C=function(e){var t=e.children,a=e.width,n=void 0===a?100:a;return r.a.createElement("dt",{className:"db ma0 pb1 pb0-ns dtc-ns silver tracked ttu f7",style:{width:n}},t)},x=function(e){var t=e.children,a=e.advanced;return r.a.createElement("dd",{className:"db dtc-ns ma0 charcoal monospace ".concat(a?"word-wrap pa2 f7 bg-white-80":"truncate f7 f6-ns")},t)},P=function(e){var t=e.children,a=e.className,n=void 0===a?"ma0":a,l=Object(k.a)(e,["children","className"]);return r.a.createElement("dl",Object.assign({className:n},l),t)},I=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"getField",value:function(e,t,a){return e&&e[t]?a?a(e[t]):e[t]:""}},{key:"getVersion",value:function(e){var t=this.getField(e,"agentVersion");return t?t.split("/").join(" "):""}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.identity;return r.a.createElement(P,null,r.a.createElement(S,{term:t("peerId"),desc:this.getField(a,"id")}),r.a.createElement(S,{term:t("version"),desc:r.a.createElement(O,{agentVersion:this.getField(a,"agentVersion")})}))}}]),t}(r.a.Component),D=Object(s.b)("selectIdentity",Object(c.c)("status")(I)),A=a(103),F=a(195),T=a.n(F),L=function(e){var t=e.value;if(!t)return null;var a=T()(t).protoNames().concat(["ipfs","p2p"]),n=t.split("/");return r.a.createElement("div",{className:"charcoal-muted monospace"},n.map((function(e,t){return r.a.createElement("span",{key:t},r.a.createElement("span",{className:a.includes(e)?"force-select":"force-select charcoal"},e),t<n.length-1?"/":"")})))},B=a(435),M={"js-ipfs-api":{url:"https://github.com/ipfs/js-ipfs-api"},"js-ipfs":{url:"https://github.com/ipfs/js-ipfs"},"window.ipfs":{url:"https://github.com/ipfs-shipyard/ipfs-companion"},"ipfs-companion":{url:"https://github.com/ipfs-shipyard/ipfs-companion"}},_=function(e){var t=e.name,a=function(e){return M[e]||{name:e}}(t);return a.url?r.a.createElement("a",{href:a.url,className:"link blue",target:"_blank",rel:"noopener noreferrer"},a.name||t):r.a.createElement("span",null,a.name||t)};function K(e){try{return T()(e),!0}catch(t){return!1}}var U=function(e){function t(){return Object(E.a)(this,t),Object(y.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(v.a)(t,[{key:"getField",value:function(e,t,a){return e&&e[t]?a?a(e[t]):e[t]:""}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.identity,n=e.ipfsProvider,l=e.ipfsApiAddress,c=e.gatewayUrl,s=null,o=null;return a&&(s=this.getField(a,"publicKey"),o=Object(A.a)(new Set(a.addresses)).sort().map((function(e){return r.a.createElement(L,{key:e,value:e})}))),r.a.createElement(B.a,{className:"mt3 f6",summaryText:t("advanced")},r.a.createElement(P,{className:"mt3"},r.a.createElement(S,{advanced:!0,term:t("gateway"),desc:c}),"js-ipfs-api"===n?r.a.createElement(S,{advanced:!0,term:t("api"),desc:K(l)?r.a.createElement(L,{value:l}):l}):r.a.createElement(S,{advanced:!0,term:t("api"),desc:r.a.createElement(_,{name:n})}),r.a.createElement(S,{advanced:!0,term:t("addresses"),desc:o}),r.a.createElement(S,{advanced:!0,term:t("publicKey"),desc:s})))}}]),t}(r.a.Component),Y=Object(s.b)("selectIdentity","selectIpfsProvider","selectIpfsApiAddress","selectGatewayUrl",Object(c.c)("status")(U)),J=a(18),R=a(33),z=a.n(R),V=a(1372),H=function(e){var t=e.children,a=Object(k.a)(e,["children"]);return r.a.createElement("h2",Object.assign({className:"ttu tracked f6 fw4 aqua mt0 mb4"},a),t)};function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q=d.a.partial({round:1,exponent:2,bits:!0}),$=d.a.partial({round:0,bits:!0,output:"array"}),X={defaultFontFamily:"'Inter UI', system-ui, sans-serif",responsive:!0,tooltips:{mode:"x",position:"nearest",enabled:!1},hover:{mode:"index"},scales:{xAxes:[{type:"time",time:{minUnit:"second"}}],yAxes:[{stacked:!0,ticks:{callback:function(e){return q(e)+"/s"},suggestedMax:2e5,maxTicksLimit:5}}]},legend:{display:!0,position:"bottom"}},Q=function(e){var t=e.t,a=e.bw,n=e.show,l=e.pos;return n?r.a.createElement("div",{className:"sans-serif absolute bg-white pa2 br3",style:{top:"".concat(l.top+window.scrollY,"px"),left:"".concat(l.left,"px"),transform:"translateY(calc(-100% - 20px))",filter:"drop-shadow(2px 2px 8px rgba(0, 0, 0, 0.2))"}},r.a.createElement("div",{className:"absolute",style:{bottom:"-14px",left:"0",width:"0",height:"0",borderTop:"20px solid white",borderRight:"20px solid transparent"}}),r.a.createElement("div",{className:"dt"},r.a.createElement("div",{className:"dt-row"},r.a.createElement("span",{className:"dtc f7 charcoal tr"},t("in").toLowerCase(),":"),r.a.createElement("span",{className:"f4 ml1 charcoal-muted"},a.in[0]),r.a.createElement("span",{className:"f7 charcoal-muted"},a.in[1],"/s")),r.a.createElement("div",{className:"dt-row"},r.a.createElement("span",{className:"dtc f7 charcoal tr"},t("out").toLowerCase(),":"),r.a.createElement("span",{className:"f4 ml1 charcoal-muted"},a.out[0]),r.a.createElement("span",{className:"f7 charcoal-muted"},a.out[1],"/s")))):null},Z=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(l)))).getTooltip=function(e){var t=document.getElementById("node_bw_chart");return t||((t=document.createElement("div")).id="node_bw_chart",document.body.appendChild(t)),z.a.render(r.a.createElement(Q,{t:e,show:!1}),t),t},a.data=function(){var e=a.props,t=e.t,n=e.nodeBandwidthChartData;return function(e){var a=e.getContext("2d"),r=a.createLinearGradient(e.width/2,0,e.width/2,e.height);r.addColorStop(0,"#70c5cd"),r.addColorStop(1,"#c6f1f3");var l=a.createLinearGradient(e.width/2,0,e.width/2,e.height/2);return l.addColorStop(0,"#f19237"),l.addColorStop(1,"#f9d1a6"),{datasets:[{label:t("in"),data:n.in,borderColor:r,backgroundColor:r,pointRadius:2,cubicInterpolationMode:"monotone"},{label:t("out"),data:n.out,borderColor:l,backgroundColor:l,pointRadius:2,cubicInterpolationMode:"monotone"}]}}},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.tooltip=document.createElement("div"),this.tooltip.id="node_bw_chart",document.body.appendChild(this.tooltip)}},{key:"componentDidUpdate",value:function(){z.a.render(r.a.createElement(Q,{show:!1}),this.tooltip)}},{key:"render",value:function(){var e=this.props,t=e.t,a=e.animatedPoints,n=e.nodeBandwidthChartData;if(0===n.in.length)return null;var l=this.tooltip,c=W({},X,{tooltips:W({},X.tooltips,{custom:function(e){var a={show:!0};if(0===e.opacity)a.show=!1;else{a.bw={in:$(e.dataPoints[0].yLabel),out:$(e.dataPoints[1].yLabel)};var n=this._chart.canvas.getBoundingClientRect();a.pos={left:n.left+e.caretX,top:n.top+e.caretY}}z.a.render(r.a.createElement(Q,Object.assign({t:t},a)),l)}}),animation:{duration:n.in.length<=a?1e3:0}});return r.a.createElement("div",null,r.a.createElement(H,null,t("bandwidthOverTime")),r.a.createElement(V.b,{data:this.data(),options:c}))}}]),t}(r.a.Component);Z.defaultProps={animatedPoints:500};var ee=Object(s.b)("selectNodeBandwidthChartData",Object(c.c)("status")(Z)),te=function(e){return 2*e*Math.PI},ae=function(e){var t,a=e.total,n=void 0===a?100:a,l=e.title,c=e.filled,s=void 0===c?0:c,o=e.noSpeed,i=void 0!==o&&o,m=e.color,u=void 0===m?"#FF6384":m,p={options:{legend:{display:!1},tooltips:{enabled:!1},maintainAspectRatio:!1,cutoutPercentage:80,rotation:(t=.7,(1-t+.5)*Math.PI),circumference:te(.7)},data:{labels:["Speed","Nothing"],datasets:[{data:[s,s>n?0:n-s],backgroundColor:[u,"#DEDEDE"],hoverBackgroundColor:[u,"#DEDEDE"],borderWidth:[0,0]}]}},b=d()(s,{output:"array",round:0,bits:!i});return r.a.createElement("div",{className:"relative tc center overflow-hidden",style:{width:"11em",height:"9em"}},r.a.createElement("div",{style:{width:"11em",height:"11em",marginTop:"-1em"}},r.a.createElement(V.a,p)),r.a.createElement("div",{className:"absolute",style:{top:"60%",left:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement("span",{className:"f3"},b[0]),r.a.createElement("span",{className:"ml1 f7"},b[1],i?"":"/s"),r.a.createElement("span",{className:"db f7 fw5"},l)))},ne=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(y.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={downSpeed:{filled:0,total:125e3},upSpeed:{filled:0,total:125e3}},a}return Object(w.a)(t,e),Object(v.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.nodeBandwidth,n=a?parseInt(a.rateIn.toFixed(0),10):0,r=a?parseInt(a.rateOut.toFixed(0),10):0;n===t.downSpeed.filled&&r===t.upSpeed.filled||this.setState({downSpeed:{filled:n,total:Math.max(n,t.downSpeed.total)},upSpeed:{filled:r,total:Math.max(r,t.upSpeed.total)}})}},{key:"render",value:function(){var e=this.props.t,t=this.state,a=t.downSpeed,n=t.upSpeed;return r.a.createElement("div",null,r.a.createElement(H,null,e("networkTraffic")),r.a.createElement("div",{className:"flex flex-column justify-between",style:{maxWidth:400}},r.a.createElement("div",{className:"mh2 mv3 mt0-l"},r.a.createElement(ae,Object.assign({title:e("upSpeed"),color:"#f39021"},n))),r.a.createElement("div",{className:"mh2 mt3 mt0-l"},r.a.createElement(ae,Object.assign({title:e("downSpeed"),color:"#69c4cd"},a)))))}}]),t}(r.a.Component),re=Object(s.b)("selectNodeBandwidth",Object(c.c)("status")(ne)),le=a(182),ce=function(e){var t=e.className,a=e.label,n=e.yesLabel,l=e.noLabel,c=e.onYes,s=e.onNo,o=e.detailsLabel,i=void 0===o?"More info...":o,d=e.detailsLink;return r.a.createElement("div",{className:"f6 pv3 pv2-ns ph3 tc bg-snow charcoal ".concat(t)},r.a.createElement("span",{className:"fw4 lh-copy dib mb2"},a,d&&r.a.createElement("a",{href:d,className:"dib focus-outline link blue ml2"},i)),r.a.createElement("span",{className:"dib"},r.a.createElement(le.a,{className:"ml3 mv1",bg:"bg-green",onClick:c},n),r.a.createElement(le.a,{className:"ml3 mv1",color:"charcoal",bg:"bg-snow-muted",onClick:s},l)))},se=a(193),oe=a(1115);t.default=Object(s.b)("selectIpfsConnected","selectNodeBandwidthEnabled","selectAnalyticsAskToEnable","selectToursEnabled","doEnableAnalytics","doDisableAnalytics",Object(oe.a)(Object(c.c)("status")((function(e){var t=e.t,a=e.ipfsConnected,n=e.analyticsAskToEnable,s=e.doEnableAnalytics,i=e.doDisableAnalytics,d=e.toursEnabled,m=e.handleJoyrideCallback,p=e.nodeBandwidthEnabled;return r.a.createElement("div",{"data-id":"StatusPage",className:"mw9 center"},r.a.createElement(l.Helmet,null,r.a.createElement("title",null,t("title")," - IPFS")),r.a.createElement(b.a,{className:"pa3 joyride-status-node",style:{minHeight:0}},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"flex-auto"},a?r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(D,null),r.a.createElement("div",{className:"pt2"},r.a.createElement(Y,null))):r.a.createElement(h,null)))),a&&n&&r.a.createElement(ce,{className:"mt3",label:t("AskToEnable.label"),yesLabel:t("AskToEnable.yesLabel"),noLabel:t("AskToEnable.noLabel"),detailsLabel:t("AskToEnable.detailsLabel"),detailsLink:"#/settings/analytics",onYes:s,onNo:i}),r.a.createElement("div",{style:{opacity:a?1:.4}},p?r.a.createElement(b.a,{className:"mt3 pa3"},r.a.createElement("div",{className:"flex flex-column flex-row-l joyride-status-charts"},r.a.createElement("div",{className:"pr0 pr2-l flex-auto"},r.a.createElement(ee,null)),r.a.createElement("div",{className:"dn db-l pl3 pr5"},r.a.createElement(re,null)))):r.a.createElement(f,null),r.a.createElement(o.b,{run:d,steps:se.e.getSteps({t:t,Trans:c.b}),styles:se.e.styles,callback:m,continuous:!0,scrollToFirstStep:!0,showProgress:!0})))}))))}}]);
//# sourceMappingURL=16.72a2184f.chunk.js.map