{"version":3,"sources":["components/tour/withTour.js","components/modal/Modal.js","components/overlay/Overlay.js","settings/editor/theme/ipfs_dark.js","lib/i18n.js","icons/StrokeSpeaker.js","components/language-selector/language-modal/LanguageModal.js","components/language-selector/LanguageSelector.js","settings/editor/JsonEditor.js","settings/DesktopSettings.js","components/experiments/ExperimentsPanel.js","settings/SettingsPage.js"],"names":["withTour","WrappedComponent","WithTour","handleJoyrideCallback","data","doDisableTours","props","action","status","STATUS","FINISHED","includes","this","React","Component","connect","ModalActions","justify","className","children","style","backgroundColor","defaultProps","ModalBody","icon","title","createElement","width","height","Modal","onCancel","maxWidth","onClick","Overlay","show","onLeave","renderBackdrop","onKeyDown","e","stopPropagation","nativeEvent","stopImmediatePropagation","key","onBackdropClick","ace","define","acequire","exports","module","isDark","cssClass","cssText","importCssString","getLanguage","localeCode","info","languages","lang","split","nativeName","en","englishName","StrokeSpeaker","viewBox","d","LanguageModal","t","tReady","link","SpeakerIcon","localesList","map","i18n","changeLanguage","handleClick","Button","bg","LanguageSelector","state","isLanguageModalOpen","onLanguageEditOpen","setState","onLanguageEditClose","language","minWidth","JsonEditor","value","readOnly","onChange","Math","max","length","mode","theme","fontSize","showPrintMargin","showGutter","editorProps","$blockScrolling","Infinity","setOptions","showLineNumbers","tabSize","isMac","navigator","platform","toUpperCase","indexOf","keys","option","cmd","ctrlMac","alt","ctrl","CheckboxSetting","Checkbox","Key","TranslatedDesktopSettings","withTranslation","doDesktopSettingsToggle","desktopSettings","Box","Title","checked","autoLaunch","disabled","os","ipfsOnPath","i18nKey","defaults","components","screenshotShortcut","values","key1","key2","key3","downloadHashShortcut","doExpToggleAction","experiments","tkey","selector","actionUrls","enabled","blocked","label","i","target","rel","href","url","SettingsPage","isIpfsConnected","isConfigBlocked","isLoading","isSaving","hasSaveFailed","hasSaveSucceded","hasErrors","hasLocalChanges","hasExternalChanges","isIpfsDesktop","config","onReset","onSave","editorKey","analyticsEnabled","doToggleAnalytics","toursEnabled","data-id","Helmet","AnalyticsToggle","run","steps","settingsTour","getSteps","Trans","styles","callback","continuous","scrollToFirstStep","showProgress","SaveButton","danger","transform","SettingsInfo","SettingsPageContainer","editableConfig","Date","now","isValidJson","doSaveConfig","str","JSON","parse","err","msSinceEpoch","prevProps","configSaveLastSuccess","setTimeout","isRecent","ipfsConnected","configIsLoading","configLastError","configIsSaving","configSaveLastError","TranslatedSettingsPage"],"mappings":"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","file":"static/js/14.48b49351.chunk.js","sourcesContent":["import React from 'react'\nimport { connect } from 'redux-bundler-react'\nimport { STATUS } from 'react-joyride'\n\nconst withTour = WrappedComponent => {\n  class WithTour extends React.Component {\n    handleJoyrideCallback = (data) => {\n      const { doDisableTours } = this.props\n      const { action, status } = data\n\n      if (action === 'close' || [STATUS.FINISHED].includes(status)) {\n        doDisableTours()\n      }\n    }\n\n    render () {\n      return <WrappedComponent handleJoyrideCallback={this.handleJoyrideCallback} {...this.props} />\n    }\n  }\n\n  return connect('doDisableTours', WithTour)\n}\n\nexport default withTour\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport CancelIcon from '../../icons/GlyphSmallCancel'\n\nexport const ModalActions = ({ justify, className, children, ...props }) => (\n  <div className={`flex justify-${justify} pa2 ${className}`} style={{ backgroundColor: '#f4f6f8' }} {...props}>\n    { children }\n  </div>\n)\n\nModalActions.propTypes = {\n  justify: PropTypes.string,\n  className: PropTypes.string\n}\n\nModalActions.defaultProps = {\n  justify: 'between',\n  className: ''\n}\n\nexport const ModalBody = ({ className, icon, title, children, ...props }) => {\n  icon = React.createElement(icon, {\n    className: 'fill-gray w3'\n  })\n\n  return (\n    <div className={`ph2 pv3 tc ${className}`} {...props}>\n      <div className='center bg-snow br-100 flex justify-center items-center' style={{ width: '80px', height: '80px' }}>\n        {icon}\n      </div>\n\n      <p className='charcoal-muted fw5'>{title}</p>\n\n      {children}\n    </div>\n  )\n}\n\nModalBody.propTypes = {\n  icon: PropTypes.func.isRequired,\n  title: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node\n  ])\n}\n\nModalBody.defaultProps = {\n  className: ''\n}\n\nexport const Modal = ({ onCancel, children, className, ...props }) => {\n  return (\n    <div className={`${className} bg-white w-80 shadow-4 sans-serif relative`} style={{ maxWidth: '30em' }} {...props}>\n      { onCancel &&\n        <CancelIcon className='absolute pointer w2 h2 top-0 right-0 fill-gray' onClick={onCancel} />\n      }\n\n      {children}\n    </div>\n  )\n}\n\nModal.propTypes = {\n  onCancel: PropTypes.func\n}\n\nModal.defaultProps = {\n  onCancel: null,\n  className: ''\n}\n\nexport default Modal\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Modal } from 'react-overlays'\n\nfunction Overlay ({ children, show, onLeave, className, ...props }) {\n  const stopPropagation = (e) => {\n    e.stopPropagation()\n    e.nativeEvent.stopImmediatePropagation()\n\n    if (e.key === 'Escape') {\n      onLeave()\n    }\n  }\n\n  const renderBackdrop = (props) => (\n    <div className='fixed top-0 left-0 right-0 bottom-0 bg-black o-50' {...props} />\n  )\n\n  return (\n    <Modal\n      {...props}\n      show={show}\n      className={`${className} fixed top-0 left-0 right-0 bottom-0 z-max flex items-center justify-around`}\n      renderBackdrop={renderBackdrop}\n      onKeyDown={stopPropagation}\n      onBackdropClick={onLeave}>\n      {children}\n    </Modal>\n  )\n}\n\nOverlay.propTypes = {\n  show: PropTypes.bool.isRequired,\n  onLeave: PropTypes.func.isRequired\n}\n\nOverlay.defaultProps = {\n  className: ''\n}\n\nexport default Overlay\n","/* global ace */\n// modified from https://github.com/thlorenz/brace/blob/master/theme/solarized_dark.js\nace.define('ace/theme/ipfs_dark', ['require', 'exports', 'module', 'ace/lib/dom'], function (acequire, exports, module) {\n  exports.isDark = true\n  exports.cssClass = 'ace-ipfs-dark'\n  exports.cssText = `\n  .ace-ipfs-dark .ace_gutter {\n  background: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_print-margin {\n  width: 1px;\n  background: #69c4cd;\n  }\n  .ace-ipfs-dark {\n  background-color: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_entity.ace_other.ace_attribute-name,\n  .ace-ipfs-dark .ace_storage {\n  color: #f7f8fa;\n  }\n  .ace-ipfs-dark .ace_rparen,\n  .ace-ipfs-dark .ace_lparen {\n    color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_cursor,\n  .ace-ipfs-dark .ace_string.ace_regexp {\n  color: #ea5037\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_active-line,\n  .ace-ipfs-dark .ace_marker-layer .ace_selection {\n  background: rgba(255, 255, 255, 0.1)\n  }\n  .ace-ipfs-dark.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #244e66;\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_gutter-active-line {\n  background-color: #244e66\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_selected-word {\n  border: 1px solid #244e66\n  }\n  .ace-ipfs-dark .ace_invisible {\n  color: rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_keyword,\n  .ace-ipfs-dark .ace_meta,\n  .ace-ipfs-dark .ace_support.ace_class,\n  .ace-ipfs-dark .ace_support.ace_type {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_constant.ace_character,\n  .ace-ipfs-dark .ace_constant.ace_other {\n  color: #f36149\n  }\n  .ace-ipfs-dark .ace_constant.ace_language {\n  color: #f9a13e\n  }\n  .ace-ipfs-dark .ace_constant.ace_numeric {\n  color: #f39021\n  }\n  .ace-ipfs-dark .ace_fold {\n  background-color: #69c4cd;\n  border-color: #93A1A1\n  }\n  .ace-ipfs-dark .ace_entity.ace_name.ace_function,\n  .ace-ipfs-dark .ace_entity.ace_name.ace_tag,\n  .ace-ipfs-dark .ace_support.ace_function,\n  .ace-ipfs-dark .ace_variable,\n  .ace-ipfs-dark .ace_variable.ace_language {\n  color: #edf0f4\n  }\n  .ace-ipfs-dark .ace_string {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_comment {\n  font-style: italic;\n  color: #657B83\n  }\n  .ace-ipfs-dark .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNg0Db1ZVCxc/sPAAd4AlUHlLenAAAAAElFTkSuQmCC) right repeat-y\n  }`\n\n  var dom = acequire('../lib/dom')\n  dom.importCssString(exports.cssText, exports.cssClass)\n})\n","import i18n from '../i18n'\n// languages.json generated from our locale dir via https://github.com/olizilla/lol\nimport languages from './languages.json'\n\nexport const getCurrentLanguage = () => {\n  return getLanguage(i18n.language)\n}\n\nexport const getLanguage = (localeCode) => {\n  if (!localeCode) return 'Unknown'\n\n  const info = languages[localeCode]\n\n  if (!info) {\n    // if we haven't got the info in the `languages.json` we split it to get the language\n    const lang = languages[localeCode.split('-')[0]]\n    // if we have the language we add it, else we fallback to english (Web UI default lang)\n    return (lang && lang.nativeName) || languages.en.englishName\n  }\n\n  return info.nativeName\n}\n","import React from 'react'\n\nconst StrokeSpeaker = props => (\n  <svg viewBox='0 0 100 100' {...props}>\n    <path d='M76.1 16.42c-.81 0-23.86 4.63-43.07 8.52a13.27 13.27 0 0 1-1.48.16c-4.6.39-15.38 1.3-15.38 16.56 0 9.6 4.68 14.68 9.42 16.42l.06 17.67a7.78 7.78 0 0 0 7.5 7.83c2.93 0 9.79 0 9.79-5.08v-.14L40.93 58h5.2c.65.15 3.4.84 6.55 1.62 20.32 5.05 22.75 5.6 23.26 5.6 7.37 0 12.72-10.19 12.72-24.28 0-14.22-5.28-24.52-12.56-24.52zM46 55a30.82 30.82 0 0 1-3.85-14.81 30.46 30.46 0 0 1 3.75-14.67l-.16-.08c8.34-1.68 16.93-3.4 22.86-4.57-3.17 3.82-5.32 10.3-5.65 17.91 0 .68-.05 1.37-.05 2.07v2c.31 7.34 2.31 13.63 5.29 17.51-4.8-1.18-10.77-2.66-14.84-3.68C46.53 55 46.53 55 46.3 55zm30.17-35.58c5.33.09 9.49 9.49 9.49 21.48v.1c0 11.85-4.22 21.15-9.64 21.24-.5-.08-2.5-.55-5.2-1.21-2.48-2.29-4.46-6.39-5.54-11.46 3.08-.09 5.48-3.92 5.48-8.8s-2.38-8.68-5.44-8.77c1.14-5.22 3.25-9.4 5.86-11.6 2.73-.57 4.55-.92 4.99-.98zm-11.12 14h.12c2.22 0 4.09 3.34 4.09 7.3s-1.87 7.31-4.09 7.31H65a41.13 41.13 0 0 1-.58-5.34v-3.77a43.13 43.13 0 0 1 .63-5.46zm-31.9 47.16a4.8 4.8 0 0 1-4.5-4.83l-.06-17.84 9.29-.37 2.06 21c-.08 1.81-3.66 2.04-6.79 2.04zM39.28 55a1.51 1.51 0 0 0-1.11.49v.05l-10 .4a1.4 1.4 0 0 0-.67-.41c-1.39-.36-8.29-2.7-8.29-13.86 0-12.5 8.22-13.19 12.63-13.57a15.6 15.6 0 0 0 1.83-.21l10.43-2.12a31.71 31.71 0 0 0-3.46 14.41A32.29 32.29 0 0 0 44.28 55z' />\n  </svg>\n)\n\nexport default StrokeSpeaker\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport i18n, { localesList } from '../../../i18n'\nimport { getLanguage } from '../../../lib/i18n'\n\n// Components\nimport { Modal, ModalBody, ModalActions } from '../../modal/Modal'\nimport SpeakerIcon from '../../../icons/StrokeSpeaker'\nimport Button from '../../button/Button'\n\nconst LanguageModal = ({ t, tReady, onLeave, link, className, ...props }) => {\n  const handleClick = (lang) => {\n    i18n.changeLanguage(lang)\n    onLeave()\n  }\n\n  return (\n    <Modal {...props} className={className} onCancel={onLeave} style={{ maxWidth: '40em' }}>\n      <ModalBody icon={SpeakerIcon}>\n        <p className='gray w-80 center'>{t('languageModal.description')}</p>\n        <div className='pa2 flex flex-wrap'>\n          { localesList.map((lang) =>\n            <button\n              key={`lang-${lang}`}\n              className='pa2 w-33 flex nowrap bg-transparent bn outline-0 aqua pointer'\n              onClick={() => handleClick(lang)}>\n              { getLanguage(lang) }\n            </button>\n          )}\n        </div>\n      </ModalBody>\n\n      <ModalActions>\n        <Button className='ma2' bg='bg-gray' onClick={onLeave}>{t('actions.close')}</Button>\n      </ModalActions>\n    </Modal>\n  )\n}\n\nLanguageModal.propTypes = {\n  onLeave: PropTypes.func.isRequired,\n  t: PropTypes.func.isRequired,\n  tReady: PropTypes.bool\n}\n\nLanguageModal.defaultProps = {\n  className: ''\n}\n\nexport default LanguageModal\n","import React, { Component, Fragment } from 'react'\nimport { getCurrentLanguage } from '../../lib/i18n'\n\n// Components\nimport Button from '../button/Button'\nimport Overlay from '../overlay/Overlay'\nimport LanguageModal from './language-modal/LanguageModal'\n\nclass LanguageSelector extends Component {\n  state = { isLanguageModalOpen: false }\n\n  onLanguageEditOpen = () => this.setState({ isLanguageModalOpen: true })\n\n  onLanguageEditClose = () => this.setState({ isLanguageModalOpen: false })\n\n  render () {\n    const { t } = this.props\n\n    return (\n      <Fragment>\n        <div className='flex'>\n          <div className='ph4 flex items-center bg-white lh-copy charcoal f6 fw5' style={{ height: 40 }}>\n            {getCurrentLanguage()}\n          </div>\n          <Button minWidth={100} onClick={this.onLanguageEditOpen}>\n            {t('actions.edit')}\n          </Button>\n        </div>\n\n        <Overlay show={this.state.isLanguageModalOpen} onLeave={this.onLanguageEditClose} >\n          <LanguageModal className='outline-0' onLeave={this.onLanguageEditClose} t={t} />\n        </Overlay>\n      </Fragment>\n    )\n  }\n}\n\nexport default LanguageSelector\n","import React from 'react'\nimport AceEditor from 'react-ace'\n\nimport 'brace/mode/json'\nimport './theme/ipfs_dark'\n\nclass JsonEditor extends React.Component {\n  render () {\n    const { value, readOnly, onChange } = this.props\n    const lineHeight = 16\n    const height = Math.max(500, value.split('\\n').length * lineHeight)\n\n    return (\n      <div className='pv3 bg-navy br2'>\n        <AceEditor\n          value={value}\n          readOnly={readOnly}\n          onChange={onChange}\n          mode='json'\n          theme='ipfs_dark'\n          width='100%'\n          height={height + 'px'}\n          fontSize={12}\n          showPrintMargin={false}\n          showGutter\n          editorProps={{ $blockScrolling: Infinity }}\n          setOptions={{ showLineNumbers: true, tabSize: 2 }} />\n      </div>\n    )\n  }\n}\n\nexport default JsonEditor\n","import React from 'react'\nimport os from 'os'\nimport { connect } from 'redux-bundler-react'\nimport { withTranslation, Trans } from 'react-i18next'\nimport Box from '../components/box/Box'\nimport Checkbox from '../components/checkbox/Checkbox'\nimport Title from './Title'\n\nconst isMac = navigator.platform.toUpperCase().indexOf('MAC') >= 0\n\nconst keys = {\n  option: '⌥ option',\n  cmd: '⌘ command',\n  ctrlMac: '⌃ control',\n  alt: 'ALT',\n  ctrl: 'CTRL'\n}\n\nconst CheckboxSetting = ({ children, title, ...props }) => (\n  <div className='mt2'>\n    <div className='flex items-center'>\n      <div className='w2'>\n        <Checkbox {...props} className='mr1' />\n      </div>\n      <p className='ma0 f6 b'>{title}</p>\n    </div>\n\n    <p className='pl4 charcoal mw7 mb0 mt1 f6 lh-copy'>\n      <span>{children}</span>\n    </p>\n  </div>\n)\n\nconst Key = ({ children }) => <span className='monospace br2 bg-snow ph1'>{ children }</span>\n\nexport function DesktopSettings ({ t, doDesktopSettingsToggle, desktopSettings }) {\n  return (\n    <Box className='mb3 pa4'>\n      <Title>{t('ipfsDesktop')}</Title>\n\n      <CheckboxSetting checked={desktopSettings.autoLaunch || false}\n        title={t('launchOnStartup')}\n        disabled={!(['win32', 'darwin', 'linux'].includes(os.platform()) && process.env.NODE_ENV !== 'development')}\n        onChange={() => doDesktopSettingsToggle('autoLaunch')} />\n      <CheckboxSetting checked={desktopSettings.ipfsOnPath || false}\n        title={t('ipfsCmdTools')}\n        disabled={os.platform() === 'win32'}\n        onChange={() => doDesktopSettingsToggle('ipfsOnPath')}>\n        <Trans\n          i18nKey='ipfsCmdToolsDescription'\n          defaults='Add <0>ipfs</0> binary to your system <0>PATH</0> so you can use it in the command line.'\n          components={[<Key>0</Key>, <Key>0</Key>, <Key>0</Key>, <Key>0</Key>]} />\n      </CheckboxSetting>\n\n      <p className='ttu tracked f7 aqua mt4 mb2'>{t('globalShortcuts')}</p>\n      <p className='f6 charcoal lh-copy mw7'>{t('globalShortcutsAre')}</p>\n\n      <CheckboxSetting checked={desktopSettings.screenshotShortcut || false}\n        title={t('takeScreenshot')}\n        onChange={() => doDesktopSettingsToggle('screenshotShortcut')}>\n        <Trans\n          i18nKey='takeScreenshotDescription'\n          defaults='Use <0>{key1}</0> + <2>{key2}</2> + <3>{key3}</3> to take screenshots and add them to your repository.'\n          values={{\n            key1: isMac ? keys.cmd : keys.ctrl,\n            key2: isMac ? keys.ctrlMac : keys.alt,\n            key3: 'S'\n          }}\n          components={[<Key>0</Key>, <Key>0</Key>, <Key>0</Key>, <Key>0</Key>]} />\n      </CheckboxSetting>\n      <CheckboxSetting checked={desktopSettings.downloadHashShortcut || false}\n        title={t('downloadHash')}\n        onChange={() => doDesktopSettingsToggle('downloadHashShortcut')}>\n        <Trans\n          i18nKey='downloadHashDescription'\n          defaults='Use <0>{key1}</0> + <2>{key2}</2> + <3>{key3}</3> to download the last copied hash or path to your system.'\n          values={{\n            key1: isMac ? keys.cmd : keys.ctrl,\n            key2: isMac ? keys.ctrlMac : keys.alt,\n            key3: isMac ? 'H' : 'D'\n          }}\n          components={[<Key>0</Key>, <Key>0</Key>, <Key>0</Key>, <Key>0</Key>]} />\n      </CheckboxSetting>\n    </Box>\n  )\n}\n\nexport const TranslatedDesktopSettings = withTranslation('settings')(DesktopSettings)\n\nexport default connect(\n  'selectDesktopSettings',\n  'doDesktopSettingsToggle',\n  TranslatedDesktopSettings\n)\n","import React from 'react'\nimport { connect } from 'redux-bundler-react'\nimport Checkbox from '../checkbox/Checkbox'\nimport Box from '../box/Box'\nimport Title from '../../settings/Title'\n\nconst Experiments = ({ doExpToggleAction, experiments, t }) => {\n  // if there are no experiments to show don't render\n  if (experiments && experiments.length > 0) {\n    const tkey = (selector, key) =>\n      t(`Experiments.${key ? `${key}.${selector}` : `${selector}`}`)\n    return (\n      <Box className='mb3 pa4 lh-copy'>\n        <Title>{t('experiments')}</Title>\n        <p className='db mv4 f6 charcoal mw7'>{tkey('description')}</p>\n        <div className='flex flex-wrap pb3'>\n          {experiments.map(({ key, actionUrls, enabled, blocked }) => {\n            return (\n              <div\n                key={key}\n                className='pa3 mr3 mb3 mw6 br3 bg-white dib f6 ba b1 b--light-gray'\n              >\n                <h3>{tkey('title', key)}</h3>\n                <p className='charcoal'>{tkey('description', key)}</p>\n                <Checkbox\n                  className='dib'\n                  disabled={blocked}\n                  onChange={() => doExpToggleAction(key, enabled)}\n                  checked={enabled}\n                  label={<span className='fw5 f6'>{tkey('label', key)}</span>}\n                />\n                {actionUrls && (\n                  <div className='mv3'>\n                    {actionUrls.map((action, i) => (\n                      <a\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        key={action.key}\n                        className={`link blue pr2 ${i > 0 &&\n                          'bl b1 pl2 b--light-gray'}`}\n                        href={action.url}\n                      >\n                        {tkey(action.key)}\n                      </a>\n                    ))}\n                  </div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </Box>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default connect(\n  'selectExperiments',\n  'doExpToggleAction',\n  Experiments\n)\n","import React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { connect } from 'redux-bundler-react'\nimport { withTranslation, Trans } from 'react-i18next'\nimport ReactJoyride from 'react-joyride'\n// Tour\nimport { settingsTour } from '../lib/tours'\nimport withTour from '../components/tour/withTour'\n// Components\nimport Tick from '../icons/GlyphSmallTick'\nimport Box from '../components/box/Box'\nimport Button from '../components/button/Button'\nimport LanguageSelector from '../components/language-selector/LanguageSelector'\nimport AnalyticsToggle from '../components/analytics-toggle/AnalyticsToggle'\nimport JsonEditor from './editor/JsonEditor'\nimport DesktopSettings from './DesktopSettings'\nimport Experiments from '../components/experiments/ExperimentsPanel'\nimport Title from './Title'\n\nconst PAUSE_AFTER_SAVE_MS = 3000\n\nexport const SettingsPage = ({\n  t, tReady, isIpfsConnected,\n  isConfigBlocked, isLoading, isSaving,\n  hasSaveFailed, hasSaveSucceded, hasErrors, hasLocalChanges, hasExternalChanges, isIpfsDesktop,\n  config, onChange, onReset, onSave, editorKey, analyticsEnabled, doToggleAnalytics,\n  toursEnabled, handleJoyrideCallback\n}) => (\n  <div data-id='SettingsPage' className='mw9 center'>\n    <Helmet>\n      <title>{t('title')} - IPFS</title>\n    </Helmet>\n\n    { isIpfsDesktop && <DesktopSettings /> }\n\n    <Box className='mb3 pa4'>\n      <div className='mb4 joyride-settings-language'>\n        <Title>{t('language')}</Title>\n        <LanguageSelector t={t} />\n      </div>\n\n      <div className='joyride-settings-analytics'>\n        <Title>{t('analytics')}</Title>\n        <AnalyticsToggle t={t} doToggleAnalytics={doToggleAnalytics} analyticsEnabled={analyticsEnabled} />\n      </div>\n    </Box>\n\n    <Experiments t={t} />\n\n    <Box className='mb3 pa4 joyride-settings-config'>\n      <Title>{t('config')}</Title>\n      <div className='flex pb3'>\n        <div className='flex-auto'>\n          <div className='mw7'>\n            <SettingsInfo\n              t={t}\n              tReady={tReady}\n              config={config}\n              isIpfsConnected={isIpfsConnected}\n              isConfigBlocked={isConfigBlocked}\n              isLoading={isLoading}\n              hasExternalChanges={hasExternalChanges}\n              hasSaveFailed={hasSaveFailed}\n              hasSaveSucceded={hasSaveSucceded} />\n          </div>\n        </div>\n        { config ? (\n          <div className='flex flex-column justify-center flex-row-l items-center-l'>\n            <Button\n              minWidth={100}\n              height={40}\n              bg='bg-charcoal'\n              disabled={isSaving || (!hasLocalChanges && !hasExternalChanges)}\n              onClick={onReset}>\n              {t('reset')}\n            </Button>\n            <SaveButton\n              t={t}\n              tReady={tReady}\n              hasErrors={hasErrors}\n              hasSaveFailed={hasSaveFailed}\n              hasSaveSucceded={hasSaveSucceded}\n              hasLocalChanges={hasLocalChanges}\n              hasExternalChanges={hasExternalChanges}\n              isSaving={isSaving}\n              onClick={onSave} />\n          </div>\n        ) : null }\n      </div>\n      { config ? (\n        <JsonEditor\n          value={config}\n          onChange={onChange}\n          readOnly={isSaving}\n          key={editorKey} />\n      ) : null }\n    </Box>\n\n    <ReactJoyride\n      run={toursEnabled}\n      steps={settingsTour.getSteps({ t, Trans })}\n      styles={settingsTour.styles}\n      callback={handleJoyrideCallback}\n      continuous\n      scrollToFirstStep\n      showProgress />\n  </div>\n)\n\nconst SaveButton = ({ t, hasErrors, hasSaveFailed, hasSaveSucceded, isSaving, hasLocalChanges, hasExternalChanges, onClick }) => {\n  const bg = hasSaveSucceded ? 'bg-green' : 'bg-aqua'\n  return (\n    <Button\n      minWidth={100}\n      height={40}\n      className='mt2 mt0-l ml2-l'\n      bg={bg}\n      disabled={!hasLocalChanges || hasErrors}\n      danger={hasSaveFailed || hasExternalChanges}\n      onClick={onClick}>\n      { hasSaveSucceded && !hasSaveFailed ? (\n        <Tick height={16} className='fill-snow' style={{ transform: 'scale(3)' }} />\n      ) : (\n        isSaving ? t('saving') : t('save')\n      )}\n    </Button>\n  )\n}\n\nconst SettingsInfo = ({ t, isIpfsConnected, isConfigBlocked, hasExternalChanges, hasSaveFailed, hasSaveSucceded, isLoading, config }) => {\n  if (isConfigBlocked) {\n    return (\n      <p className='ma0 lh-copy charcoal f5 mw7'>\n        {t('configApiNotAvailable')}\n      </p>\n    )\n  } else if (!isIpfsConnected) {\n    return (\n      <p className='ma0 lh-copy charcoal f5 mw7'>\n        {t('ipfsDaemonOffline')}\n      </p>\n    )\n  } else if (!config) {\n    return (\n      <p className='ma0 lh-copy charcoal f5 mw7'>\n        { isLoading ? t('fetchingSettings') : t('settingsUnavailable') }\n      </p>\n    )\n  } else if (hasExternalChanges) {\n    return (\n      <p className='ma0 lh-copy red f5 mw7'>\n        <Trans i18nKey='settingsHaveChanged'>\n          The settings have changed, please click <strong>Reset</strong> to update the editor contents\n        </Trans>\n      </p>\n    )\n  } else if (hasSaveFailed) {\n    return (\n      <p className='ma0 lh-copy red fw6 f5 mw7'>\n        {t('errorOccured')}\n        <span className='db fw4 f6 charcoal-muted'>{t('checkConsole')}</span>\n      </p>\n    )\n  } else if (hasSaveSucceded) {\n    return (\n      <p className='ma0 lh-copy green fw6 f5 mw7'>\n        {t('changesSaved')}\n        <span className='db fw4 f6 charcoal-muted'>{t('settingsWillBeUsedNextTime')}</span>\n      </p>\n    )\n  }\n  return (\n    <p className='ma0 mr2 lh-copy charcoal f6'>\n      {t('ipfsConfigDescription')} <a href='https://github.com/ipfs/go-ipfs/blob/master/docs/config.md' rel='noopener noreferrer' target='_blank' className='link blue'>{t('ipfsConfigHelp')}</a>\n    </p>\n  )\n}\n\nexport class SettingsPageContainer extends React.Component {\n  state = {\n    // valid json?\n    hasErrors: false,\n    // we edited it\n    hasLocalChanges: false,\n    // something else edited it\n    hasExternalChanges: false,\n    // mutable copy of the config\n    editableConfig: this.props.config,\n    // reset the editor on reset\n    editorKey: Date.now()\n  }\n\n  onChange = (value) => {\n    this.setState({\n      hasErrors: !this.isValidJson(value),\n      hasLocalChanges: this.props.config !== value,\n      editableConfig: value\n    })\n  }\n\n  onReset = () => {\n    this.setState({\n      hasErrors: false,\n      hasLocalChanges: false,\n      hasExternalChanges: false,\n      editableConfig: this.props.config,\n      editorKey: Date.now()\n    })\n  }\n\n  onSave = () => {\n    this.props.doSaveConfig(this.state.editableConfig)\n  }\n\n  isValidJson (str) {\n    try {\n      JSON.parse(str)\n      return true\n    } catch (err) {\n      return false\n    }\n  }\n\n  isRecent (msSinceEpoch) {\n    return msSinceEpoch > Date.now() - PAUSE_AFTER_SAVE_MS\n  }\n\n  componentDidUpdate (prevProps) {\n    if (this.props.configSaveLastSuccess !== prevProps.configSaveLastSuccess) {\n      setTimeout(() => this.onReset(), PAUSE_AFTER_SAVE_MS)\n    }\n    if (prevProps.config !== this.props.config) {\n      // no previous config, or we just saved.\n      if (!prevProps.config || this.isRecent(this.props.configSaveLastSuccess)) {\n        return this.setState({\n          editableConfig: this.props.config\n        })\n      }\n      // uh oh... something else edited the config while we were looking at it.\n      if (this.props.config !== this.state.editableConfig) {\n        return this.setState({\n          hasExternalChanges: true\n        })\n      }\n    }\n  }\n\n  render () {\n    const { t, tReady, isConfigBlocked, ipfsConnected, configIsLoading, configLastError, configIsSaving, configSaveLastSuccess, configSaveLastError, isIpfsDesktop, analyticsEnabled, doToggleAnalytics, toursEnabled, handleJoyrideCallback } = this.props\n    const { hasErrors, hasLocalChanges, hasExternalChanges, editableConfig, editorKey } = this.state\n    const hasSaveSucceded = this.isRecent(configSaveLastSuccess)\n    const hasSaveFailed = this.isRecent(configSaveLastError)\n    const isLoading = configIsLoading || (!editableConfig && !configLastError)\n    return (\n      <SettingsPage\n        t={t}\n        tReady={tReady}\n        isIpfsConnected={ipfsConnected}\n        isConfigBlocked={isConfigBlocked}\n        isLoading={isLoading}\n        isSaving={configIsSaving}\n        hasSaveFailed={hasSaveFailed}\n        hasSaveSucceded={hasSaveSucceded}\n        hasErrors={hasErrors}\n        hasLocalChanges={hasLocalChanges}\n        hasExternalChanges={hasExternalChanges}\n        config={editableConfig}\n        editorKey={editorKey}\n        onChange={this.onChange}\n        onReset={this.onReset}\n        onSave={this.onSave}\n        isIpfsDesktop={isIpfsDesktop}\n        analyticsEnabled={analyticsEnabled}\n        doToggleAnalytics={doToggleAnalytics}\n        toursEnabled={toursEnabled}\n        handleJoyrideCallback={handleJoyrideCallback} />\n    )\n  }\n}\n\nexport const TranslatedSettingsPage = withTranslation('settings')(SettingsPageContainer)\n\nexport default connect(\n  'selectConfig',\n  'selectIpfsConnected',\n  'selectIsConfigBlocked',\n  'selectConfigLastError',\n  'selectConfigIsLoading',\n  'selectConfigIsSaving',\n  'selectConfigSaveLastSuccess',\n  'selectConfigSaveLastError',\n  'selectIsIpfsDesktop',\n  'selectToursEnabled',\n  'selectAnalyticsEnabled',\n  'doToggleAnalytics',\n  'doSaveConfig',\n  withTour(TranslatedSettingsPage)\n)\n"],"sourceRoot":""}